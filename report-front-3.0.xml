This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
eslint.config.js
index.html
package.json
public/vite.svg
README.md
src/App.jsx
src/assets/carrusel-1.png
src/assets/carrusel-3.png
src/assets/dr-chapatin.png
src/assets/imagen.png
src/assets/imagen2.png
src/assets/logo.png
src/assets/logo1.png
src/assets/z.png
src/components/Admin/AdminStats.jsx
src/components/Admin/RegisterSpecialistModal.jsx
src/components/Admin/UserRow.jsx
src/components/Admin/UserTable.jsx
src/components/Carousel.jsx
src/components/Chat/ChatWidget.jsx
src/components/Dashboard/GlucoseCard.jsx
src/components/Dashboard/HealthRegisterForm.jsx
src/components/Dashboard/PressureCard.jsx
src/components/Guards/AdminGuard.jsx
src/components/Guards/PatientGuard.jsx
src/components/Guards/SpecialistGuard.jsx
src/components/Landing/DrChapatinSection.jsx
src/components/Landing/HowToUseSection.jsx
src/components/Navbar.jsx
src/components/SosButton.jsx
src/index.css
src/main.jsx
src/pages/AboutPage.jsx
src/pages/AdminPage.jsx
src/pages/ContactPage.jsx
src/pages/Dashboard.jsx
src/pages/HealthRegisterPage.jsx
src/pages/HistoryPage.jsx
src/pages/HomePage.jsx
src/pages/LoginPage.jsx
src/pages/MedicalRecords.jsx
src/pages/PatientFile.jsx
src/pages/ProfilePage.jsx
src/pages/RegisterPage.jsx
src/pages/ResetPassword.jsx
src/pages/SpecialistDashboard.jsx
src/services/AdminService.js
src/services/AuthService.js
src/services/downloadService.js
src/services/MedicalService.js
src/services/readingsService.jsx
src/services/SpecialistService.js
src/Styles/AboutStyles.css
src/Styles/AdminStyles.css
src/Styles/carouselStyles.css
src/Styles/ChatWidgetStyles.css
src/Styles/ContactStyles.css
src/Styles/DashboardStyles.css
src/Styles/DrChapatinSection.css
src/Styles/healthRegister.css
src/Styles/healthStyles.css
src/Styles/HistoryStyles.css
src/Styles/homeStyles.css
src/Styles/HowToUseSection.css
src/Styles/loginStyles.css
src/Styles/medicalRecordsStyles.css
src/Styles/NavbarStyles.css
src/Styles/ProfileStyles.css
src/Styles/ResetPasswordStyles.css
src/Styles/signUpStyles.css
src/Styles/SosButtonStyles.css
src/Styles/SpecialistStyles.css
src/utils/formatDate.js
src/utils/formatDateDownload.js
src/utils/validations.js
vite.config.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/components/Guards/AdminGuard.jsx">
import React, { useEffect, useState } from 'react';
import { Navigate } from 'react-router-dom';
import { isAdmin } from '../../services/AuthService'; 
const AdminGuard = ({ children }) => {
  const [authorized, setAuthorized] = useState(null);

  useEffect(() => {
    let mounted = true;
    isAdmin().then(result => {
      if (mounted) setAuthorized(result);
    });
    return () => mounted = false;
  }, []);

  if (authorized === null) {
    return <div className="loading-screen">Verificando permisos...</div>;
  }

  return authorized ? children : <Navigate to="/" replace />;
};

export default AdminGuard;
</file>

<file path="src/components/Guards/PatientGuard.jsx">
import { Navigate } from "react-router-dom";

const PatientGuard = ({ children }) => {
  const token = localStorage.getItem("token");

  if (!token) {
    return <Navigate to="/login" replace />;
  }

  return children;
};

export default PatientGuard;
</file>

<file path="src/components/Guards/SpecialistGuard.jsx">
import { Navigate } from "react-router-dom";

const SpecialistGuard = ({ children }) => {
    const token = localStorage.getItem('token');
    const role = localStorage.getItem('user_role');
    
    if (!token) return <Navigate to="/login" replace />;
    
    if (role !== 'specialist' && role !== 'admin') {
        return <Navigate to="/dashboard" replace />;
    }
    
    return children;
};

export default SpecialistGuard;
</file>

<file path="eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
</file>

<file path="index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>web-monitoreo</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
</file>

<file path="public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="src/components/Admin/RegisterSpecialistModal.jsx">
import React, { useState } from 'react';
import { X, UserPlus, Mail, Lock, FileText } from 'lucide-react';
import { createSpecialist } from '../../services/AdminService';

const RegisterSpecialistModal = ({ onClose, onSuccess }) => {
    const [formData, setFormData] = useState({
        first_names: '',
        last_names: '',
        rut: '',
        email: '',
        password: ''
    });
    
    const [errors, setErrors] = useState({});
    const [loading, setLoading] = useState(false);

    const formatRut = (rut) => {
        let value = rut.replace(/[^0-9kK]/g, '');
        if (value.length <= 1) return value;
        const body = value.slice(0, -1);
        const dv = value.slice(-1).toUpperCase();
        return `${body.replace(/\B(?=(\d{3})+(?!\d))/g, ".")}-${dv}`;
    };

    const handleChange = (e) => {
        const { name, value } = e.target;
        if (name === 'rut') {
            setFormData({ ...formData, [name]: formatRut(value) });
        } else {
            setFormData({ ...formData, [name]: value });
        }
        if (errors[name]) {
            setErrors({ ...errors, [name]: null });
        }
    };

    const validateForm = () => {
        const newErrors = {};
        if (!formData.rut || formData.rut.length < 8) newErrors.rut = "El RUT es incompleto.";
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(formData.email)) newErrors.email = "Formato de correo inv√°lido.";
        const passRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{6,}$/;
        if (!passRegex.test(formData.password)) newErrors.password = "M√≠n. 6 caracteres, 1 may√∫s, 1 num, 1 s√≠mbolo.";
        if (!formData.first_names.trim()) newErrors.first_names = "Requerido.";
        if (!formData.last_names.trim()) newErrors.last_names = "Requerido.";
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        if (!validateForm()) return;

        setLoading(true);
        
        const { success, error } = await createSpecialist(formData);

        setLoading(false);

        if (success) {
            alert("Especialista creado con √©xito.");
            onSuccess();
            onClose();
        } else {
            const errorText = error.toLowerCase();
            const serverErrors = {};

            if (errorText.includes('rut')) {
                serverErrors.rut = error;
            } else if (errorText.includes('correo') || errorText.includes('email')) {
                serverErrors.email = error;
            } else {
                alert("Error del sistema: " + error);
            }

            setErrors({ ...errors, ...serverErrors });
        }
    };

    return (
        <div className="modal-overlay">
            <div className="modal-content">
                <div className="modal-header">
                    <h3>
                        <UserPlus size={24} /> Registrar Especialista
                    </h3>
                    <button onClick={onClose} className="btn-close-modal">
                        <X size={24} />
                    </button>
                </div>

                <form onSubmit={handleSubmit}>
                    <div className="form-grid-2">
                        <div className="input-group-reset">
                            <label>Nombres</label>
                            <input 
                                type="text" 
                                name="first_names" 
                                value={formData.first_names} 
                                onChange={handleChange} 
                                className={`input-reset ${errors.first_names ? 'input-error-border' : ''}`} 
                            />
                            {errors.first_names && <span className="error-msg">{errors.first_names}</span>}
                        </div>
                        <div className="input-group-reset">
                            <label>Apellidos</label>
                            <input 
                                type="text" 
                                name="last_names" 
                                value={formData.last_names} 
                                onChange={handleChange} 
                                className={`input-reset ${errors.last_names ? 'input-error-border' : ''}`} 
                            />
                            {errors.last_names && <span className="error-msg">{errors.last_names}</span>}
                        </div>
                    </div>

                    <div className="input-group-reset">
                        <label>RUT</label>
                        <div className="input-icon-wrapper">
                            <FileText size={18} className="input-icon" />
                            <input 
                                type="text" 
                                name="rut" 
                                placeholder="12.345.678-K" 
                                value={formData.rut} 
                                onChange={handleChange} 
                                maxLength={12} 
                                className={`input-reset input-with-icon ${errors.rut ? 'input-error-border' : ''}`} 
                            />
                        </div>
                        {errors.rut && <span className="error-msg">{errors.rut}</span>}
                    </div>

                    <div className="input-group-reset">
                        <label>Correo Institucional</label>
                        <div className="input-icon-wrapper">
                            <Mail size={18} className="input-icon" />
                            <input 
                                type="email" 
                                name="email" 
                                value={formData.email} 
                                onChange={handleChange} 
                                className={`input-reset input-with-icon ${errors.email ? 'input-error-border' : ''}`} 
                            />
                        </div>
                        {errors.email && <span className="error-msg">{errors.email}</span>}
                    </div>

                    <div className="input-group-reset">
                        <label>Contrase√±a Inicial</label>
                        <div className="input-icon-wrapper">
                            <Lock size={18} className="input-icon" />
                            <input 
                                type="password" 
                                name="password" 
                                value={formData.password} 
                                onChange={handleChange} 
                                className={`input-reset input-with-icon ${errors.password ? 'input-error-border' : ''}`} 
                            />
                        </div>
                        {errors.password && <span className="error-msg">{errors.password}</span>}
                    </div>

                    <div className="modal-actions">
                        <button type="button" onClick={onClose} className="btn-cancel">Cancelar</button>
                        <button type="submit" className="btn-confirm" disabled={loading}>
                            {loading ? 'Validando...' : 'Registrar Profesional'}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    );
};

export default RegisterSpecialistModal;
</file>

<file path="src/components/Carousel.jsx">
import { useState, useEffect, useRef } from 'react';
import { useNavigate } from 'react-router-dom';
import '../Styles/carouselStyles.css';
import imagen1 from '../assets/imagen1.png'; // Aseg√∫rate de tener estas im√°genes
import carrusel1 from '../assets/carrusel-1.png';

const Carousel = () => {
  const navigate = useNavigate();
  const [currentIndex, setCurrentIndex] = useState(0);
  const listRef = useRef();

  const slides = [
    {
      id: 1,
      badge: "Salud explicada por IA",
      title: "Monitorea tu Presi√≥n y Glucosa con IA",
      text: "Controla tus niveles de forma simple y segura.",
      img: carrusel1
    },
    {
      id: 2,
      badge: "Tecnolog√≠a Gemini",
      title: "An√°lisis Cl√≠nico en Lenguaje Claro",
      text: "Entiende tus resultados sin tecnicismos complejos.",
      img: imagen1
    },
    {
      badge: "Vive tranquilo",
      title: "Tus Datos M√©dicos est√°n Seguros",
      text: "Implementamos altos est√°ndares de seguridad y cifrado para que tu informaci√≥n personal est√© siempre protegida.",
      img: imagen2 
    }
  ];

  // L√≥gica para mover el scroll suavemente
  useEffect(() => {
    const listNode = listRef.current;
    const imgNode = listNode.querySelectorAll("li > img")[currentIndex];

    if (imgNode) {
      imgNode.scrollIntoView({
        behavior: "smooth",
        block: "nearest",
        inline: "center"
      });
    }
  }, [currentIndex]);

  const scrollToImage = (direction) => {
    if (direction === 'prev') {
      setCurrentIndex(curr => (curr === 0 ? 0 : curr - 1));
    } else {
      setCurrentIndex(curr => (curr === slides.length - 1 ? curr : curr + 1));
    }
  };

  return (
    <div className="main-container">
      <div className="slider-container">
        {/* Flechas */}
        <div className="leftArrow" onClick={() => scrollToImage('prev')}>&#10094;</div>
        <div className="rightArrow" onClick={() => scrollToImage('next')}>&#10095;</div>
        
        <div className="container-images">
          <ul ref={listRef}>
            {slides.map((item, index) => (
              <li key={item.id} className="slide-item">
                <div className="hero-text">
                  <span className="badge">{item.badge}</span>
                  <h1>{item.title}</h1>
                  <p>{item.text}</p>
                  <button className="btn-primary big" onClick={() => navigate("/signup")}>
                    Comenzar Ahora
                  </button>
                </div>
                <img src={item.img} alt="Salud" />
              </li>
            ))}
          </ul>
        </div>

        {/* Puntos (Dots) */}
        <div className="dots-container">
          {slides.map((_, idx) => (
            <div 
              key={idx} 
              className={`dot-item ${idx === currentIndex ? "active" : ""}`}
              onClick={() => setCurrentIndex(idx)}
            >
              &#9679;
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

export default Carousel;
</file>

<file path="src/components/Landing/DrChapatinSection.jsx">
import React from "react";
// Borramos useNavigate porque ya no lo usamos sin el bot√≥n
import "../../Styles/DrChapatinSection.css"; 
import drImage from "../../assets/dr-chapatin.png"; 

export default function DrChapatinSection() {
  // Borramos const navigate = ... porque ya no se usa

  return (
    <section className="chapatin-section">
      <div className="chapatin-container">
        
        {/* Lado Izquierdo: Texto */}
        <div className="chapatin-content">
          <div className="badge-wrapper">
            <span className="badge-ia">IA M√©dica Avanzada</span>
            <span className="badge-humor">Modo: Dr. Chapat√≠n</span>
          </div>
          
          <h2>No es broma: <br/>Ciencia real detr√°s del personaje.</h2>
          
          <p className="main-description">
            Puede que el Dr. Chapat√≠n traiga su "bolsita", pero nuestra IA trae 
            <strong> gigabytes de literatura m√©dica validada</strong>. Hemos entrenado el modelo 
            para separar el humor del diagn√≥stico:
          </p>

          <p className="sub-description">
            La personalidad es para que te relajes. Los datos son para que te cuides.
          </p>

          {/* Grid de Confianza */}
          <div className="trust-grid">
            <div className="trust-item">
              <span className="trust-icon">üìö</span>
              <div>
                <h4>Protocolos Cl√≠nicos</h4>
                <p>Basado en gu√≠as MINSAL y OMS.</p>
              </div>
            </div>
            <div className="trust-item">
              <span className="trust-icon">üß†</span>
              <div>
                <h4>Entrenamiento</h4>
                <p>+1M de casos m√©dicos anonimizados.</p>
              </div>
            </div>
            <div className="trust-item">
              <span className="trust-icon">üõ°Ô∏è</span>
              <div>
                <h4>Seguridad</h4>
                <p>Tus datos est√°n encriptados y seguros.</p>
              </div>
            </div>
          </div>

          {/* Sin bot√≥n rojo */}
          
          <p className="disclaimer-text">
            *Nota: Esta IA ofrece orientaci√≥n y triaje, no reemplaza una consulta m√©dica presencial.
          </p>
        </div>

        {/* Lado Derecho: Imagen */}
        <div className="chapatin-image-wrapper">
          <div className="blob-bg"></div>
          <img src={drImage} alt="Dr Chapat√≠n IA" className="chapatin-img" />
          
          <div className="floating-card">
            <span className="check-icon">‚úì</span>
            <div className="floating-text">
              <strong>Precisi√≥n Anal√≠tica</strong>
              <span>98% en detecci√≥n de s√≠ntomas</span>
            </div>
          </div>
        </div>

      </div>
    </section>
  );
}
</file>

<file path="src/components/Landing/HowToUseSection.jsx">
import React from "react";
import "../../Styles/HowToUseSection.css";

export default function HowToUseSection() {
  return (
    <section className="tutorial-section">
      <div className="tutorial-container">
        
        <div className="tutorial-header">
          <span className="tutorial-badge">Gu√≠a R√°pida</span>
          <h2>Toma el control en 3 pasos</h2>
          <p>Registrar tu salud nunca fue tan sencillo. Olv√≠date de las libretas de papel.</p>
        </div>

        <div className="steps-grid">
          {/* PASO 1 */}
          <div className="step-card">
            <div className="step-number">1</div>
            <div className="step-icon-bg purple">
              <svg viewBox="0 0 24 24" width="32" height="32"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor"/></svg>
            </div>
            <h3>Entra al Registro</h3>
            <p>Desde tu Panel Principal, busca la tarjeta que dice <strong>"Registrar Informaci√≥n"</strong> con el signo m√°s (+).</p>
          </div>

          {/* PASO 2 */}
          <div className="step-card">
            <div className="step-number">2</div>
            <div className="step-icon-bg blue">
              <svg viewBox="0 0 24 24" width="32" height="32"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="currentColor"/></svg>
            </div>
            <h3>Ingresa tus Datos</h3>
            <p>Escribe tus niveles de <strong>Glucosa</strong> o <strong>Presi√≥n Arterial</strong>. El formulario es inteligente y validar√° los n√∫meros por ti.</p>
          </div>

          {/* PASO 3 */}
          <div className="step-card">
            <div className="step-number">3</div>
            <div className="step-icon-bg green">
              <svg viewBox="0 0 24 24" width="32" height="32"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="currentColor"/></svg>
            </div>
            <h3>Recibe tu An√°lisis</h3>
            <p>Al guardar, nuestra IA analizar√° el resultado y te dir√° al instante si est√°s <strong>Estable</strong> o si necesitas atenci√≥n.</p>
          </div>
        </div>

      </div>
    </section>
  );
}
</file>

<file path="src/main.jsx">
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
</file>

<file path="src/pages/AboutPage.jsx">
import React from 'react';
import { useNavigate } from 'react-router-dom'; // 1. Importamos el hook
import '../Styles/AboutStyles.css';

const AboutPage = () => {
  const navigate = useNavigate(); // 2. Inicializamos el hook

  return (
    <div className="about-container">
      <div className="about-hero">
        <h1>Cuidando tu salud con tecnolog√≠a</h1>
        <p>
          En <strong>Salud al D√≠a</strong>, creemos que el bienestar debe ser accesible, 
          inteligente y f√°cil de entender para todos.
        </p>
      </div>

      <div className="about-mission">
        <div className="mission-card">
          <h2> Nuestra Misi√≥n</h2>
          <p>
            Democratizar el acceso a un monitoreo de salud preventivo. 
            Utilizamos tecnolog√≠a avanzada para que puedas registrar, visualizar 
            y entender tus indicadores vitales (glucosa y presi√≥n) sin complicaciones.
          </p>
        </div>
        <div className="mission-card">
          <h2> Nuestra Visi√≥n</h2>
          <p>
            Ser la plataforma l√≠der en Latinoam√©rica en autogesti√≥n de salud digital, 
            conectando a pacientes con sus datos m√©dicos de manera segura y eficiente, 
            reduciendo riesgos mediante la prevenci√≥n temprana.
          </p>
        </div>
      </div>

      <div className="about-values">
        <h2>¬øPor qu√© elegirnos?</h2>
        <div className="values-grid">
          <div className="value-item">
            <span className="value-icon">üîí</span>
            <h3>Seguridad Total</h3>
            <p>Tus datos m√©dicos est√°n encriptados y protegidos con los m√°s altos est√°ndares.</p>
          </div>
          <div className="value-item">
            <span className="value-icon">ü§ñ</span>
            <h3>Innovaci√≥n IA</h3>
            <p>Integramos inteligencia artificial para ayudarte a interpretar tus resultados.</p>
          </div>
          <div className="value-item">
            <span className="value-icon">üíô</span>
            <h3>Centrado en Ti</h3>
            <p>Dise√±amos cada pantalla pensando en tu facilidad de uso y tranquilidad.</p>
          </div>
        </div>
      </div> 
      <section className="cta-footer">
        <h2>¬øListo para mejorar tu salud?</h2>
        <p>√önete a miles de personas que ya conf√≠an en Salud al D√≠a.</p>
        <button className="btn-white" onClick={() => navigate("/signup")}>
          Crear Cuenta Ahora
        </button>
      </section>

    </div>
  );
};

export default AboutPage;
</file>

<file path="src/pages/ContactPage.jsx">
import React, { useState } from 'react';
import '../Styles/ContactStyles.css';

const ContactPage = () => {
  const [activeIndex, setActiveIndex] = useState(null);

  const toggleFAQ = (index) => {
    setActiveIndex(activeIndex === index ? null : index);
  };

  const faqData = [
    {
        question: "¬øC√≥mo registro mi presi√≥n arterial o glucosa?",
        answer: "Ve a tu 'Mi Panel' y busca la tarjeta de 'Registro R√°pido'. Selecciona si quieres guardar Glucosa o Presi√≥n, ingresa el valor y pulsa Guardar. ¬°Se a√±adir√° autom√°ticamente a tu historial!"
      },
      {
        question: "¬øPuedo ver mis datos en otro celular?",
        answer: "¬°S√≠! Como Salud al D√≠a guarda tu informaci√≥n en la nube de forma segura, solo necesitas iniciar sesi√≥n con tu correo y contrase√±a en cualquier dispositivo para ver todo tu historial."
      },
      {
        question: "¬øEs seguro guardar mi informaci√≥n m√©dica aqu√≠?",
        answer: "Absolutamente. Utilizamos encriptaci√≥n y est√°ndares de seguridad para proteger tu privacidad. Nadie m√°s tiene acceso a tus datos personales sin tu autorizaci√≥n."
      },
      {
        question: "¬øQu√© hago si me equivoqu√© al anotar un dato?",
        answer: "No te preocupes. Ve a la secci√≥n 'Historial', busca el registro incorrecto y ver√°s una opci√≥n para eliminarlo. Luego puedes volver a ingresarlo correctamente."
      },
      {
        question: "¬øC√≥mo puedo recuperar mi contrase√±a?",
        answer: "En la pantalla de Iniciar Sesi√≥n, pulsa sobre '¬øOlvidaste tu contrase√±a?'. Te enviaremos un enlace a tu correo registrado para que puedas crear una nueva."
      }
  ];

  return (
    <div className="contact-container">
      <div className="contact-hero">
        <h1>Centro de Ayuda</h1>
        <p>Estamos aqu√≠ para escucharte y resolver tus dudas.</p>
      </div>

      <div className="contact-grid-equal">
        <div className="contact-card-equal">
          <h2> Reportar un Problema</h2>
          <p style={{fontSize:'0.9rem', marginBottom:'20px', color:'#666'}}>
            ¬øEncontraste un error en la web? Cu√©ntanos para arreglarlo.
          </p>
          <form onSubmit={(e) => { e.preventDefault(); alert('¬°Gracias! Mensaje enviado al equipo t√©cnico.'); }}>
            <div className="form-group">
              <label>Asunto</label>
              <input type="text" className="form-input" placeholder="Ej: Error al guardar datos" required />
            </div>
            <div className="form-group">
              <label>Mensaje</label>
              <textarea className="form-textarea" rows="5" placeholder="Describe el problema..." required></textarea>
            </div>
            <button type="submit" className="btn-send">Enviar Reporte</button>
          </form>
        </div>

        <div className="contact-card-equal delete-card-style">
            <div className="delete-content-centered">
                <h3> Gesti√≥n de Cuenta</h3>
                <p>
                Lamentamos que quieras irte. Si deseas <strong>eliminar tu cuenta</strong> y borrar 
                todos tus datos permanentemente de nuestros servidores, por favor escribe desde 
                tu correo registrado a:
                </p>
                <br />
                <a href="mailto:bajas@saludaldia.com?subject=Solicitud de Baja de Cuenta" className="email-link-large">
                 bajas@saludaldia.com
                </a>
                <p style={{fontSize:'0.85rem', marginTop:'20px', color:'#991b1b', fontStyle:'italic'}}>
                *El proceso es irreversible y puede tardar hasta 48 horas h√°biles.
                </p>
            </div>
        </div>
      </div>

      <div className="faq-section">
        <h2 className="faq-title">Preguntas Frecuentes (FAQ)</h2>
        <div className="faq-list">
          {faqData.map((item, index) => (
            <div className="faq-item" key={index}>
              <button className="faq-question" onClick={() => toggleFAQ(index)}>
                {item.question}
                <span>{activeIndex === index ? '‚àí' : '+'}</span>
              </button>
              <div className={`faq-answer ${activeIndex === index ? 'open' : ''}`}>
                {item.answer}
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

export default ContactPage;
</file>

<file path="src/pages/HealthRegisterPage.jsx">
import HealthRegisterForm from "../components/Dashboard/HealthRegisterForm";
import "../Styles/healthRegister.css";

export default function HealthRegisterPage() {
  return (
    <div className="health-page">
      <h1>Registrar Informaci√≥n de Salud</h1>
      <p>Ingresa tus valores de glucosa y presi√≥n arterial</p>
      <HealthRegisterForm />
    </div>
  );
}
</file>

<file path="src/pages/ResetPassword.jsx">
import React, { useState, useEffect } from 'react';
import { useNavigate, useSearchParams } from 'react-router-dom';
import { Eye, EyeOff, Lock, CheckCircle } from 'lucide-react';
import { updatePasswordFinal } from '../services/AdminService';
import '../Styles/ResetPasswordStyles.css';

const ResetPassword = () => {
  const [searchParams] = useSearchParams();
  const navigate = useNavigate();
  const emailFromUrl = searchParams.get('email');

  const [passwords, setPasswords] = useState({ newPassword: '', confirmPassword: '' });
  const [showPass, setShowPass] = useState(false);
  const [loading, setLoading] = useState(false);
  const [status, setStatus] = useState(null);

  useEffect(() => {
    if (!emailFromUrl) {
      navigate('/login');
    }
  }, [emailFromUrl, navigate]);

  const handleChange = (e) => {
    setPasswords({ ...passwords, [e.target.name]: e.target.value });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setStatus(null);

    if (passwords.newPassword !== passwords.confirmPassword) {
      alert("Las contrase√±as no coinciden");
      return;
    }

    if (passwords.newPassword.length < 6) {
      alert("La contrase√±a debe tener al menos 6 caracteres");
      return;
    }

    setLoading(true);

    const { success, error } = await updatePasswordFinal(emailFromUrl, passwords.newPassword);

    if (success) {
      setStatus('success');
      setTimeout(() => navigate('/login'), 3000);
    } else {
      alert("Error: " + error);
      setLoading(false);
    }
  };

  if (status === 'success') {
    return (
      <div className="reset-container">
        <div className="reset-box success-box">
          <CheckCircle size={60} color="#16a34a" />
          <h2>Contrase√±a Actualizada</h2>
          <p>Tu contrase√±a ha sido cambiada exitosamente.</p>
          <p className="redirect-text">Redirigiendo al Login...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="reset-container">
      <div className="reset-box">
        <div className="reset-header">
          <div className="icon-wrapper">
            <Lock size={30} color="#2563eb" />
          </div>
          <h2>Restablecer Contrase√±a</h2>
          <p className="email-display">Cuenta: {emailFromUrl}</p>
        </div>

        <form onSubmit={handleSubmit}>
          <div className="input-group-reset">
            <label>Nueva Contrase√±a</label>
            <div className="password-wrapper">
              <input 
                type={showPass ? "text" : "password"} 
                name="newPassword" 
                placeholder="M√≠nimo 6 caracteres"
                value={passwords.newPassword}
                onChange={handleChange}
                required 
              />
              <button type="button" className="toggle-btn" onClick={() => setShowPass(!showPass)}>
                {showPass ? <EyeOff size={18} /> : <Eye size={18} />}
              </button>
            </div>
          </div>

          <div className="input-group-reset">
            <label>Confirmar Contrase√±a</label>
            <input 
              type={showPass ? "text" : "password"} 
              name="confirmPassword" 
              placeholder="Repite la contrase√±a"
              value={passwords.confirmPassword}
              onChange={handleChange}
              required 
            />
          </div>

          <button type="submit" className="btn-reset" disabled={loading}>
            {loading ? 'Actualizando...' : 'Cambiar Contrase√±a'}
          </button>
        </form>
      </div>
    </div>
  );
};

export default ResetPassword;
</file>

<file path="src/pages/SpecialistDashboard.jsx">
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { Search, FileText, User } from 'lucide-react';
import { getPatients, getPatientDashboardData } from '../services/SpecialistService'; 
import '../Styles/SpecialistStyles.css'; 

const SpecialistDashboard = () => {
  const navigate = useNavigate();
  const [patients, setPatients] = useState([]);
  const [filter, setFilter] = useState('all'); 
  const [searchTerm, setSearchTerm] = useState('');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchPatientsAndData = async () => {
      setLoading(true);
      try {
        const patientsList = await getPatients();
        
        const enrichedPatients = await Promise.all(
          patientsList.map(async (patient) => {
            try {
              const healthData = await getPatientDashboardData(patient.id);
              
              const lastGlucoseDate = healthData.glucose?.date ? new Date(healthData.glucose.date) : null;
              const lastPressureDate = healthData.pressure?.date ? new Date(healthData.pressure.date) : null;
              
              let lastControlDate = "Sin registros";
              if (lastGlucoseDate || lastPressureDate) {
                const dates = [lastGlucoseDate, lastPressureDate].filter(d => d !== null);
                const mostRecent = new Date(Math.max(...dates));
                lastControlDate = mostRecent.toLocaleDateString();
              }

              let status = 'stable';
              let statusLabel = 'Estable';

              const glucose = healthData.glucose?.value;
              const sys = healthData.pressure?.systolic;
              const dia = healthData.pressure?.diastolic;

              if (glucose > 140 || sys >= 140 || dia >= 90) {
                status = 'critical';
                statusLabel = 'Alerta';
              } else if (glucose > 0 && glucose < 70) {
                status = 'critical';
                statusLabel = 'Hipoglicemia';
              }

              return {
                ...patient,
                lastControl: lastControlDate,
                status: status,
                statusLabel: statusLabel
              };
            } catch (err) {
              return {
                ...patient,
                lastControl: 'Error de carga',
                status: 'stable',
                statusLabel: 'Estable'
              };
            }
          })
        );

        setPatients(enrichedPatients);
      } catch (error) {
        console.error(error);
      } finally {
        setLoading(false);
      }
    };

    fetchPatientsAndData();
  }, []);

  const filteredPatients = patients.filter(p => {
    const fullName = `${p.first_names || ''} ${p.last_names || ''}`.toLowerCase();
    const rut = p.rut ? p.rut.toLowerCase() : '';
    const search = searchTerm.toLowerCase();
    const matchesSearch = fullName.includes(search) || rut.includes(search);
    
    if (!matchesSearch) return false;
    if (filter === 'all') return true;
    return p.status === filter;
  });

  return (
    <div className="specialist-bg">
      <div className="specialist-container">
        <header className="dashboard-header">
            <div className="header-title-wrapper">
                <h1>Panel de Control Medico</h1>
                <span className="badge-pro">Profesional</span>
            </div>
            <p>Monitoreo de pacientes en tiempo real</p>
        </header>

        <div className="toolbar-card">
            <div className="search-bar">
                <Search className="search-icon-input" size={20} />
                <input 
                    type="text" 
                    placeholder="Buscar paciente por RUT o Nombre..." 
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                />
            </div>
            
            <div className="filter-buttons">
                <button 
                    className={`filter-btn ${filter === 'all' ? 'active blue' : ''}`} 
                    onClick={() => setFilter('all')}
                >
                    Todos
                </button>
                <button 
                    className={`filter-btn ${filter === 'critical' ? 'active red' : ''}`} 
                    onClick={() => setFilter('critical')}
                >
                    Alertas
                </button>
                <button 
                    className={`filter-btn ${filter === 'stable' ? 'active green' : ''}`} 
                    onClick={() => setFilter('stable')}
                >
                    Estables
                </button>
            </div>
        </div>

        <div className="table-container-medical">
            <div className="table-wrapper-scroll">
                <table className="medical-table">
                    <thead>
                        <tr>
                            <th>Paciente</th>
                            <th>RUT</th>
                            <th>Ultimo Control</th>
                            <th>Estado</th>
                            <th>Accion</th>
                        </tr>
                    </thead>
                    <tbody>
                        {!loading && filteredPatients.map(patient => (
                            <tr key={patient.id}>
                                <td className="patient-cell">
                                    <div className="avatar-circle">
                                        <User size={18} color="white" />
                                    </div>
                                    <div className="patient-info">
                                        <span className="patient-name">{patient.first_names} {patient.last_names}</span>
                                    </div>
                                </td>
                                <td>{patient.rut}</td>
                                <td>{patient.lastControl}</td>
                                <td>
                                    <span className={`status-badge-medical ${patient.status}`}>
                                        {patient.statusLabel}
                                    </span>
                                </td>
                                <td>
                                    <button 
                                        className="btn-view-file"
                                        onClick={() => navigate(`/paciente/${patient.id}`)}
                                    >
                                        <FileText size={16} /> Ver Ficha
                                    </button>
                                </td>
                            </tr>
                        ))}
                    </tbody>
                </table>
            </div>
            {filteredPatients.length === 0 && !loading && (
                <div className="no-data">No se encontraron pacientes.</div>
            )}
            {loading && <div className="no-data">Cargando informacion de salud...</div>}
        </div>
      </div>
    </div>
  );
};

export default SpecialistDashboard;
</file>

<file path="src/services/readingsService.jsx">
export function getLastReading() {
  return {
    glucose: 300,
    systolic: 134,
    diastolic: 92,
    date: "13 de enero, 14:02",
  };
}
</file>

<file path="src/Styles/AboutStyles.css">
.about-container {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #333;
  line-height: 1.6;
  padding-bottom: 60px;
}

.about-hero {
  background-color: #f8fafc;
  text-align: center;
  padding: 80px 20px;
  border-bottom: 1px solid #e5e7eb;
}

.about-hero h1 {
  font-size: 2.5rem;
  color: #2563eb; 
  margin-bottom: 15px;
}

.about-hero p {
  font-size: 1.2rem;
  color: #64748b;
  max-width: 700px;
  margin: 0 auto;
}

.about-mission {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 40px;
  padding: 60px 5%;
  background: white;
}

.mission-card {
  background: white;
  padding: 40px;
  border-radius: 12px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  flex: 1;
  min-width: 300px;
  max-width: 500px;
  border-top: 4px solid #2563eb;
}

.mission-card h2 {
  color: #1e293b;
  margin-bottom: 15px;
}

/* Secci√≥n de Valores (Grid) */
.about-values {
  background-color: #f0f9ff; /* Azul muy suave de fondo */
  padding: 60px 5%;
  text-align: center;
}

.values-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 30px;
  margin-top: 40px;
}

.value-item {
  background: white;
  padding: 30px;
  border-radius: 10px;
  transition: transform 0.3s ease;
}

.value-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.value-icon {
  font-size: 2rem;
  margin-bottom: 15px;
  display: block;
}

/* Responsivo */
@media (max-width: 768px) {
  .about-hero h1 { font-size: 2rem; }
  .about-mission { flex-direction: column; }
}

.cta-footer {
  background: #2563eb; /* Tu azul corporativo */
  color: white;
  text-align: center;
  padding: 60px 20px;
  width: 100%;
  margin-top: 40px;
  box-shadow: 0 -4px 10px rgba(0,0,0,0.05); 
}

.cta-footer h2 {
  font-size: 2rem;
  margin-bottom: 15px;
}

.cta-footer p {
  font-size: 1.1rem;
  opacity: 0.9;
  margin-bottom: 25px;
}

.btn-white {
  background-color: white;
  color: #2563eb;
  padding: 12px 30px;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  font-size: 1rem;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.btn-white:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
</file>

<file path="src/Styles/carouselStyles.css">
.main-container {
  width: 100%;
  padding: 40px 10%;
  background: #f4f8ff;
}

.slider-container {
  position: relative;
  width: 100%;
  height: 500px;
}

.container-images {
  width: 100%;
  height: 100%;
  overflow: hidden; /* Esconde el scroll */
  border-radius: 22px;
}

.container-images ul {
  display: flex;
  list-style: none;
  width: 100%;
  height: 100%;
}

.slide-item {
  min-width: 100%; /* Cada slide ocupa todo el ancho */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 40px;
}

.slide-item img {
  width: 50%;
  height: 400px;
  object-fit: cover;
  border-radius: 22px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.1);
}

/* Flechas */
.leftArrow, .rightArrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 50px;
  color: #2563eb;
  cursor: pointer;
  z-index: 10;
  transition: 0.3s;
}

.leftArrow { left: -60px; }
.rightArrow { right: -60px; }

/* Puntos */
.dots-container {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 20px;
}

.dot-item {
  cursor: pointer;
  color: #cbd5e1;
  font-size: 20px;
}

.dot-item.active {
  color: #2563eb;
}
</file>

<file path="src/Styles/ContactStyles.css">
.contact-container {
  max-width: 1100px; 
  margin: 0 auto;
  padding: 60px 20px;
  font-family: 'Segoe UI', sans-serif;
  color: #333;
}

.contact-hero {
  text-align: center;
  margin-bottom: 50px;
}

.contact-hero h1 {
  color: #2563eb;
  font-size: 2.5rem;
  margin-bottom: 10px;
}

.contact-hero p {
  color: #64748b;
  font-size: 1.1rem;
}

.contact-grid-equal {
  display: grid;
  grid-template-columns: 1fr 1fr; 
  gap: 40px;
  margin-bottom: 60px;
  align-items: stretch; 
}


.contact-card-equal {
  background: white;
  padding: 40px; 
  border-radius: 16px; 
  box-shadow: 0 10px 25px -5px rgba(0,0,0,0.08); 
  border: 1px solid #f1f5f9;
  display: flex;
  flex-direction: column;
  height: 100%; 
}

.form-group { margin-bottom: 25px; }
.form-group label {
  display: block;
  font-weight: 600;
  margin-bottom: 10px;
  color: #334155;
}
.form-input, .form-textarea {
  width: 100%;
  padding: 14px;
  border: 2px solid #e2e8f0; 
  border-radius: 10px;
  font-size: 1rem;
  transition: all 0.2s;
  background: #f8fafc;
}
.form-input:focus, .form-textarea:focus {
  border-color: #2563eb;
  background: white;
  outline: none;
}
.btn-send {
  width: 100%;
  background-color: #2563eb;
  color: white;
  padding: 15px;
  border: none;
  border-radius: 10px;
  font-weight: 700;
  font-size: 1.1rem;
  cursor: pointer;
  transition: background-color 0.2s;
  margin-top: auto;
}
.btn-send:hover { background-color: #1d4ed8; }


.delete-card-style {
  background-color: #fef2f2; 
  border: 2px solid #fee2e2;
  justify-content: center; 
}

.delete-content-centered {
  text-align: center; 
}

.delete-card-style h3 {
  color: #991b1b;
  font-size: 1.8rem;
  margin-bottom: 25px;
}

.delete-card-style p {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #7f1d1d;
}

.email-link-large {
  color: #dc2626;
  font-weight: 800;
  text-decoration: none;
  font-size: 1.6rem; 
  display: block;
  margin: 35px 0;
  padding: 15px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(220, 38, 38, 0.1);
  transition: transform 0.2s;
}

.email-link-large:hover {
  transform: translateY(-3px);
  text-decoration: none;
  box-shadow: 0 8px 15px rgba(220, 38, 38, 0.15);
}


.faq-section { margin-top: 80px; max-width: 800px; margin-left: auto; margin-right: auto;}
.faq-title { text-align: center; color: #2563eb; margin-bottom: 40px; font-size: 2rem;}
.faq-item {
  background: white;
  border: 1px solid #e5e7eb;
  margin-bottom: 15px;
  border-radius: 12px;
  overflow: hidden;
}
.faq-question {
  width: 100%;
  text-align: left;
  padding: 20px 25px;
  background: none;
  border: none;
  font-size: 1.1rem;
  font-weight: 600;
  color: #334155;
  cursor: pointer;
  display: flex; justify-content: space-between; align-items: center;
}
.faq-question:hover { background-color: #f8fafc; color: #2563eb;}
.faq-answer {
  padding: 0 25px;
  max-height: 0;
  overflow: hidden;
  transition: all 0.3s ease-out;
  color: #64748b;
  line-height: 1.7;
}
.faq-answer.open {
  max-height: 300px;
  padding-bottom: 25px;
  padding-top: 10px;
  border-top: 1px solid #f1f5f9;
}

/* M√≥vil */
@media (max-width: 768px) {
  .contact-grid-equal { grid-template-columns: 1fr; gap: 30px;}
  .contact-card-equal { height: auto; padding: 30px;}
  .email-link-large { font-size: 1.3rem; }
}
</file>

<file path="src/Styles/DrChapatinSection.css">
/* =========================================
   ARCHIVO: src/Styles/DrChapatinSection.css
   ========================================= */

/* CONTENEDOR PRINCIPAL */
.chapatin-section {
  padding: 80px 10%; /* Alineado con tu clase .features */
  background-color: #f8fafc; /* Un gris muy suave para diferenciarlo del blanco */
  overflow: hidden;
  border-top: 1px solid #e2e8f0;
  border-bottom: 1px solid #e2e8f0;
}

.chapatin-container {
  max-width: 1400px; /* Tope m√°ximo para pantallas muy anchas */
  margin: 0 auto;
  display: flex;
  align-items: center;
  gap: 60px;
  position: relative;
}

/* =========================================
   LADO IZQUIERDO: TEXTO
   ========================================= */
.chapatin-content {
  flex: 1;
  z-index: 2;
}

/* Badges Nuevas (No chocan con tu .badge anterior) */
.badge-wrapper {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.badge-ia {
  background-color: #1e293b; /* Tu color oscuro de texto */
  color: #fff;
  padding: 6px 14px;
  border-radius: 50px;
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.badge-humor {
  background-color: #fee2e2;
  color: #dc2626; /* Tu color rojo del icono */
  padding: 6px 14px;
  border-radius: 50px;
  font-weight: 600;
  font-size: 0.75rem;
  border: 1px solid #fecaca;
}

/* Tipograf√≠a */
.chapatin-content h2 {
  font-size: 2.8rem;
  color: #1e293b;
  margin-bottom: 20px;
  line-height: 1.1;
  font-weight: 800;
}

.main-description {
  font-size: 1.1rem;
  color: #334155;
  margin-bottom: 15px;
  line-height: 1.6;
}

.main-description strong {
  color: #2563eb; /* Tu color primario azul */
  font-weight: 700;
}

.sub-description {
  font-size: 1rem;
  color: #64748b;
  font-style: italic;
  margin-bottom: 35px;
  border-left: 4px solid #ef4444; /* Borde rojo decorativo */
  padding-left: 15px;
}

/* =========================================
   GRID DE CONFIANZA (CUADR√çCULA BLANCA)
   ========================================= */
.trust-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
  margin-bottom: 40px;
  background: #ffffff;
  padding: 25px;
  border-radius: 16px;
  box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.1); /* Sombra azulada sutil */
  border: 1px solid #e0ecff;
}

.trust-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.trust-icon {
  font-size: 1.5rem;
  background-color: #f0f9ff;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  flex-shrink: 0;
}

.trust-item div {
  display: flex;
  flex-direction: column;
}

.trust-item h4 {
  margin: 0 0 4px 0;
  font-size: 0.95rem;
  color: #1e293b;
  font-weight: 700;
}

.trust-item p {
  margin: 0;
  font-size: 0.8rem;
  color: #64748b;
  line-height: 1.3;
}

/* =========================================
   BOT√ìN NUEVO
   ========================================= */
.cta-button-chapatin {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); /* Rojo degradado */
  color: white;
  padding: 14px 32px;
  border: none;
  border-radius: 8px; /* Coincide con tus otros botones */
  font-size: 1.1rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px -1px rgba(220, 38, 38, 0.3);
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.cta-button-chapatin:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 15px -3px rgba(220, 38, 38, 0.4);
}

.disclaimer-text {
  font-size: 0.75rem;
  color: #94a3b8;
  margin-top: 15px;
  max-width: 90%;
}

/* =========================================
   LADO DERECHO: IMAGEN
   ========================================= */
.chapatin-image-wrapper {
  flex: 1;
  display: flex;
  justify-content: center;
  position: relative;
}

/* Fondo org√°nico animado */
.blob-bg {
  position: absolute;
  width: 400px;
  height: 400px;
  background-color: #dbeafe; /* Azul muy claro */
  border-radius: 46% 54% 50% 50% / 35% 44% 56% 65%;
  z-index: 1;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: blob-pulse 8s infinite alternate;
}

@keyframes blob-pulse {
  0% { border-radius: 46% 54% 50% 50% / 35% 44% 56% 65%; transform: translate(-50%, -50%) scale(1); }
  100% { border-radius: 54% 46% 38% 62% / 63% 58% 42% 37%; transform: translate(-50%, -50%) scale(1.05); }
}

.chapatin-img {
  width: 100%;
  max-width: 450px;
  height: auto;
  z-index: 2;
  filter: drop-shadow(0 20px 25px rgba(37, 99, 235, 0.15));
  transition: transform 0.3s ease;
}

.chapatin-img:hover {
  transform: scale(1.02) rotate(1deg);
}

/* Tarjeta Flotante (98% Precisi√≥n) */
.floating-card {
  position: absolute;
  bottom: 30px;
  left: -20px;
  background: white;
  padding: 12px 20px;
  border-radius: 12px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  gap: 15px;
  z-index: 3;
  border-left: 4px solid #10b981; /* Verde √©xito */
  animation: float 4s ease-in-out infinite;
}

.check-icon {
  background-color: #d1fae5;
  color: #059669;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  font-size: 0.9rem;
}

.floating-text strong {
  display: block;
  font-size: 0.9rem;
  color: #1e293b;
}

.floating-text span {
  font-size: 0.8rem;
  color: #64748b;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

/* =========================================
   RESPONSIVE (COINCIDE CON TUS PUNTOS DE QUIEBRE)
   ========================================= */
@media (max-width: 1024px) {
  .chapatin-section {
    padding: 60px 5%; /* Ajuste igual que tu hero */
  }
}

@media (max-width: 768px) {
  .chapatin-container {
    flex-direction: column-reverse; /* Imagen arriba en m√≥vil */
    gap: 40px;
    text-align: center;
  }

  .badge-wrapper {
    justify-content: center;
  }

  .sub-description {
    border-left: none; /* Quitamos borde lateral en m√≥vil */
    border-top: 3px solid #ef4444; /* Ponemos borde superior */
    padding-left: 0;
    padding-top: 15px;
  }

  .trust-grid {
    grid-template-columns: 1fr; /* Una columna */
    text-align: left;
  }

  .blob-bg {
    width: 280px;
    height: 280px;
  }

  .floating-card {
    left: 50%;
    transform: translateX(-50%);
    bottom: -20px;
    width: max-content;
    animation: none; /* Mejor rendimiento */
  }
}
</file>

<file path="src/Styles/healthStyles.css">
.health-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  background-color: #f0f4f8;
}

.health-card {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  width: 100%;
  max-width: 450px;
  border-top: 6px solid #1e40af; /* Azul m√©dico */
}

.health-card h3 {
  color: #1e3a8a;
  text-align: center;
  margin-bottom: 20px;
}

.input-group {
  margin-bottom: 20px;
  text-align: left;
}

.input-group label {
  display: block;
  margin-bottom: 8px;
  font-size: 0.9rem;
  color: #1e40af;
  font-weight: bold;
}

.dual-input {
  display: flex;
  align-items: center;
  gap: 10px;
}

.health-card input {
  width: 100%;
  padding: 12px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  box-sizing: border-box;
}

.btn-save {
  width: 100%;
  padding: 14px;
  background-color: #1e40af;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.btn-save:hover {
  background-color: #1d4ed8;
}

/* Responsive para celulares peque√±os */
@media (max-width: 480px) {
  .health-card {
    padding: 1.5rem;
  }
  .dual-input {
    flex-direction: column;
  }
}
</file>

<file path="src/Styles/HowToUseSection.css">
.tutorial-section {
  padding: 80px 20px;
  background-color: #ffffff; /* Blanco para contrastar */
  text-align: center;
}

.tutorial-container {
  max-width: 1200px;
  margin: 0 auto;
}

/* Header */
.tutorial-header {
  max-width: 700px;
  margin: 0 auto 60px auto;
}

.tutorial-badge {
  background-color: #f3f4f6;
  color: #4b5563;
  padding: 6px 16px;
  border-radius: 50px;
  font-size: 0.8rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.tutorial-header h2 {
  font-size: 2.5rem;
  color: #111827;
  margin-top: 15px;
  margin-bottom: 10px;
  font-weight: 800;
}

.tutorial-header p {
  font-size: 1.1rem;
  color: #6b7280;
}

/* Grid de Pasos */
.steps-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 40px;
}

.step-card {
  position: relative;
  background: #fff;
  padding: 40px 30px;
  border-radius: 20px;
  border: 1px solid #f3f4f6;
  transition: transform 0.3s ease;
}

.step-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.05);
  border-color: #e5e7eb;
}

/* N√∫mero Gigante de Fondo (Estilo moderno) */
.step-number {
  position: absolute;
  top: 10px;
  right: 20px;
  font-size: 5rem;
  font-weight: 900;
  color: #f3f4f6;
  z-index: 0;
  pointer-events: none;
}

/* Iconos */
.step-icon-bg {
  width: 70px;
  height: 70px;
  border-radius: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 25px auto;
  position: relative;
  z-index: 1;
}

.step-icon-bg svg {
  z-index: 2;
}

.step-icon-bg.purple { background-color: #f5f3ff; color: #7c3aed; }
.step-icon-bg.blue { background-color: #eff6ff; color: #2563eb; }
.step-icon-bg.green { background-color: #ecfdf5; color: #059669; }

/* Textos de la tarjeta */
.step-card h3 {
  font-size: 1.4rem;
  color: #1f2937;
  margin-bottom: 15px;
  position: relative;
  z-index: 1;
}

.step-card p {
  font-size: 1rem;
  color: #6b7280;
  line-height: 1.6;
  position: relative;
  z-index: 1;
}

.step-card strong {
  color: #4b5563;
}

/* Mobile */
@media (max-width: 768px) {
  .tutorial-header h2 { font-size: 2rem; }
  .steps-grid { gap: 20px; }
}
</file>

<file path="src/Styles/ResetPasswordStyles.css">
.reset-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #f0f9ff 0%, #dbeafe 100%);
  font-family: 'Segoe UI', sans-serif;
  padding: 20px;
}

.reset-box {
  background: white;
  padding: 40px;
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(37, 99, 235, 0.1);
  width: 100%;
  max-width: 400px;
  animation: fadeIn 0.4s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.reset-header {
  text-align: center;
  margin-bottom: 30px;
}

.icon-wrapper {
  background-color: #eff6ff;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 15px auto;
}

.reset-header h2 {
  color: #1e3a8a;
  margin: 0 0 5px 0;
  font-size: 1.5rem;
}

.email-display {
  color: #64748b;
  font-size: 0.9rem;
  background-color: #f1f5f9;
  padding: 5px 10px;
  border-radius: 6px;
  display: inline-block;
  margin-top: 10px;
}

.input-group-reset {
  margin-bottom: 20px;
}

.input-group-reset label {
  display: block;
  margin-bottom: 8px;
  color: #334155;
  font-weight: 600;
  font-size: 0.9rem;
}

.password-wrapper {
  position: relative;
}

.input-group-reset input {
  width: 100%;
  padding: 12px;
  border: 1px solid #cbd5e1;
  border-radius: 8px;
  font-size: 1rem;
  transition: all 0.2s;
  box-sizing: border-box;
}

.input-group-reset input:focus {
  border-color: #2563eb;
  outline: none;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.toggle-btn {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #94a3b8;
  cursor: pointer;
  display: flex;
  align-items: center;
}

.toggle-btn:hover {
  color: #2563eb;
}

.btn-reset {
  width: 100%;
  padding: 14px;
  background-color: #2563eb;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.2s;
  margin-top: 10px;
}

.btn-reset:hover {
  background-color: #1d4ed8;
}

.btn-reset:disabled {
  background-color: #94a3b8;
  cursor: not-allowed;
}

.success-box {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
}

.redirect-text {
  color: #64748b;
  font-size: 0.9rem;
  margin-top: 20px;
}
</file>

<file path="src/Styles/signUpStyles.css">
/* src/Styles/signUpStyles.css */
.signup-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  background-color: #f0f4f8;
}

.signup-box {
  background: white;
  padding: 2.5rem;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 500px;
  border-top: 6px solid #1e40af;
  text-align: center;
}

/* Estilo para el logo en el registro */
.signup-logo {
  width: 200px; /* Un poco m√°s peque√±o que en login para dar espacio a los campos */
  height: auto;
  margin-bottom: 20px;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  text-align: left;
}

.form-group {
  display: flex;
  flex-direction: column;
}

.form-group label {
  font-size: 0.85rem;
  color: #1e40af;
  margin-bottom: 5px;
  font-weight: bold;
}

.form-group input {
  padding: 10px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-size: 0.9rem;
  box-sizing: border-box;
}

.btn-signup {
  grid-column: span 2; 
  margin-top: 20px;
  padding: 14px;
  background-color: #1e40af;
  color: white;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.3s;
}

.btn-signup:hover {
  background-color: #1d4ed8;
}

.signup-footer {
  margin-top: 20px;
  font-size: 0.9rem;
  color: #64748b;
}

.signup-footer a {
  color: #1e40af;
  font-weight: bold;
  text-decoration: none;
}

@media (max-width: 480px) {
  .form-grid {
    grid-template-columns: 1fr;
  }
  .btn-signup {
    grid-column: span 1;
  }
  .signup-box {
    padding: 1.5rem;
    box-shadow: none;
  }
  .signup-logo {
    width: 160px;
  }
}
</file>

<file path="src/Styles/SpecialistStyles.css">
.specialist-bg, .file-bg {
    min-height: 100vh;
    background-color: #f8fafc;
    padding: 30px;
    font-family: 'Inter', system-ui, sans-serif;
}

.specialist-container, .file-container {
    max-width: 1200px;
    margin: 0 auto;
}

.dashboard-header, .file-header {
    margin-bottom: 25px;
}

.header-title-wrapper {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 5px;
}

.badge-pro {
    background-color: #dbeafe;
    color: #1e40af;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.dashboard-header h1, .file-header h1 {
    color: #0f172a;
    font-size: 1.8rem;
    margin: 0;
}

.dashboard-header p, .patient-subtitle { 
    color: #64748b; 
    margin-top: 5px; 
}

.file-top-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e2e8f0;
}

.header-center-info {
    text-align: center;
    flex: 1;
}

.header-center-info h1 {
    color: #0f172a;
    font-size: 1.6rem;
    margin: 0;
    font-weight: 800;
}

.toolbar-card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    margin-top: 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
    border: 1px solid #e2e8f0;
    gap: 15px;
    flex-wrap: wrap;
}

.search-bar {
    position: relative;
    flex: 1;
    max-width: 450px;
    border-top: 4px solid #1e40af;
    border-radius: 10px;
    overflow: hidden;
}

.search-icon-input {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #94a3b8;
}

.search-bar input {
    width: 100%;
    padding: 10px 12px 10px 40px;
    border: 1px solid #e2e8f0;
    border-top: none;
    border-radius: 0 0 8px 8px;
    background: #f8fafc;
    font-size: 0.95rem;
    transition: all 0.2s;
    outline: none;
}

.search-bar input:focus {
    background: white;
    border-color: #2563eb;
}

.filter-buttons {
    display: flex;
    gap: 10px;
}

.filter-btn {
    padding: 8px 16px;
    border: 1px solid #e2e8f0;
    background: white;
    border-radius: 6px;
    color: #64748b;
    font-weight: 600;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.filter-btn:hover { background: #f8fafc; }
.filter-btn.active.blue { background: #eff6ff; color: #2563eb; border-color: #bfdbfe; }
.filter-btn.active.red { background: #fef2f2; color: #dc2626; border-color: #fecaca; }
.filter-btn.active.green { background: #f0fdf4; color: #16a34a; border-color: #bbf7d0; }

.table-container-medical {
    background: white;
    margin-top: 25px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    border: 1px solid #e2e8f0;
    border-top: 5px solid #1e40af; 
}

.table-wrapper-scroll {
    max-height: 580px;
    overflow-y: auto;
    width: 100%;
}

.medical-table {
    width: 100%;
    border-collapse: collapse;
}

.medical-table th {
    background-color: #f1f5f9;
    color: #1e3a8a;
    text-align: left;
    padding: 18px 20px;
    font-size: 0.85rem;
    font-weight: 800; 
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid #cbd5e1;
    position: sticky;
    top: 0;
    z-index: 10;
}

.medical-table td {
    padding: 16px 20px;
    border-bottom: 1px solid #f1f5f9;
    color: #334155;
    vertical-align: middle;
}

.medical-table tbody tr:nth-child(even) {
    background-color: #f8fafc; 
}

.medical-table tbody tr:hover {
    background-color: #eff6ff; 
}

.patient-cell {
    display: flex;
    align-items: center;
    gap: 15px;
}

.avatar-circle {
    width: 36px;
    height: 36px;
    background: #3b82f6;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.patient-info {
    display: flex;
    flex-direction: column;
}

.patient-name {
    font-weight: 700;
    color: #1e293b;
}

.status-badge-medical {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 800;
    text-transform: uppercase;
    display: inline-block;
}

.status-badge-medical.stable { background: #dcfce7; color: #166534; }
.status-badge-medical.critical { background: #fee2e2; color: #991b1b; }

.btn-view-file {
    background: #ffffff;
    color: #2563eb;
    border: 1px solid #bfdbfe;
    padding: 6px 12px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.85rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-view-file:hover { background: #eff6ff; border-color: #2563eb; }

.btn-back {
    background: white;
    border: 1px solid #e2e8f0;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #475569;
    font-weight: 500;
    transition: all 0.2s;
}

.btn-back:hover { background: #f8fafc; color: #1e293b; }

.file-grid {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 30px;
}

.patient-info-card {
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
    border: 1px solid #e2e8f0;
    border-top: 6px solid #2563eb;
    height: fit-content;
}

.profile-avatar-large {
    width: 90px;
    height: 90px;
    background: #eff6ff;
    color: #2563eb;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    border: 4px solid #f8fafc;
}

.info-group { margin-bottom: 20px; }

.info-group label { 
    display: flex; 
    align-items: center; 
    gap: 6px; 
    font-size: 0.8rem; 
    color: #64748b; 
    margin-bottom: 6px; 
    font-weight: 700; 
    text-transform: uppercase; 
}

.badge-blood { 
    background: #2563eb; 
    color: white; 
    padding: 4px 10px; 
    border-radius: 4px; 
    font-size: 0.9rem; 
    font-weight: 600; 
}

.divider { height: 1px; background: #e2e8f0; margin: 20px 0; }

.physical-data {
    background: #f8fafc;
    padding: 20px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    border: 1px solid #e2e8f0;
}

.phy-item { text-align: center; }

.phy-item small { 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    gap: 4px; 
    font-size: 0.75rem; 
    color: #64748b; 
    margin-bottom: 4px; 
    text-transform: uppercase; 
    font-weight: 700; 
}

.phy-item strong { font-size: 1.1rem; color: #1e293b; font-weight: 800; }

.sos-section-embedded {
    margin-top: 25px;
    padding: 15px;
    background: #fffcfc;
    border-radius: 10px;
    border: 1px solid #fee2e2;
    border-left: 5px solid #dc2626;
    border-right: 5px solid #dc2626;
}

.sos-label {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #dc2626;
    font-size: 0.75rem;
    font-weight: 800;
    text-transform: uppercase;
    margin-bottom: 12px;
}

.sos-data-row { margin-bottom: 8px; }
.sos-data-row strong { font-size: 0.8rem; color: #64748b; display: block; margin-bottom: 2px; font-weight: 700; }
.sos-data-row span { display: block; font-size: 0.95rem; font-weight: 700; color: #1e293b; }
.sos-phone-black { display: block; font-size: 1.1rem; color: #000000; font-weight: 800; }

.vitals-cards-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
    margin-bottom: 30px;
}

.history-section-mini {
    background: white;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
    border: 1px solid #e2e8f0;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #f1f5f9;
}

.btn-download {
    background: #1e293b;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 500;
}

.mini-table { width: 100%; border-collapse: collapse; }
.mini-table th { text-align: left; color: #64748b; padding-bottom: 12px; font-size: 0.85rem; text-transform: uppercase; border-bottom: 2px solid #e2e8f0; font-weight: 700; }
.mini-table td { padding: 14px 0; border-bottom: 1px solid #f1f5f9; font-size: 0.9rem; color: #334155; }

.status-dot { padding: 4px 10px; border-radius: 12px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
.status-dot.red { background: #fee2e2; color: #991b1b; }
.status-dot.green { background: #dcfce7; color: #166534; }

.card-title {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.1rem;
    color: #1e3a8a;
    font-weight: 800;
}

.value-text { font-weight: 700; color: #1e293b; }

.loading-screen {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-size: 1.2rem;
    color: #64748b;
}

.no-data {
    text-align: center;
    padding: 20px;
    color: #64748b;
}

.capitalize-text {
    text-transform: capitalize;
}

.sos-section-embedded.no-record {
    border-color: #e2e8f0;
    border-left-color: #94a3b8;
    border-right-color: #94a3b8;
    background: #f8fafc;
}

.sos-label.gray {
    color: #64748b;
}

.no-record-text {
    font-size: 0.85rem;
    color: #64748b;
    margin: 0;
}

.condition-text {
    font-size: 0.9rem;
    color: #334155;
    font-weight: 700;
    margin: 0;
}

.imc-value {
    color: #1e40af;
}

.section-header h3 {
    margin: 0;
    color: #1e293b;
    font-weight: 800;
}

.badges-container {
    display: flex;
    flex-direction: column;
    gap: 4px;
    align-items: flex-start;
}

.status-badge-mini {
    padding: 3px 8px;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    white-space: nowrap;
}

.status-badge-mini.badge-danger {
    background-color: #fee2e2;
    color: #991b1b;
    border: 1px solid #fecaca;
}

.status-badge-mini.badge-warning {
    background-color: #ffedd5;
    color: #9a3412;
    border: 1px solid #fed7aa;
}

.status-cell {
    vertical-align: top;
}

@media (max-width: 900px) {
    .file-grid { grid-template-columns: 1fr; }
    .vitals-cards-grid { grid-template-columns: 1fr; }
    .toolbar-card { flex-direction: column; align-items: stretch; }
    .search-bar { max-width: 100%; }
}
</file>

<file path="src/utils/formatDate.js">
export function formatDateLong(dateString) {
  if (!dateString) return "";

  const date = new Date(dateString);

  const fecha = date.toLocaleDateString("es-CL", {
    weekday: "long",
    day: "2-digit",
    month: "long",
  });

  const hora24 = date.getHours().toString().padStart(2, "0");
  const minutos = date.getMinutes().toString().padStart(2, "0");

  const ampm = date.getHours() < 12 ? "am" : "pm";

  return `${fecha} ¬∑ ${hora24}:${minutos} ${ampm}`
    .replace(/^./, c => c.toUpperCase());
}
</file>

<file path="src/utils/formatDateDownload.js">
export function formatDateDownload(dateString) {
  if (!dateString) return "";

  const date = new Date(dateString);

  const fecha = date.toLocaleDateString("es-CL", {
    weekday: "long",
    day: "2-digit",
    month: "long",
    year: "numeric",
  });

  const hora = date.getHours().toString().padStart(2, "0");
  const minutos = date.getMinutes().toString().padStart(2, "0");
  const ampm = date.getHours() < 12 ? "am" : "pm";

  return `${fecha} ¬∑ ${hora}:${minutos} ${ampm}`
    .replace(/^./, c => c.toUpperCase());
}
</file>

<file path="src/utils/validations.js">
export const formatRut = (rut) => {
  if (!rut) return "";
  const value = rut.replace(/[^0-9kK]/g, "");
  if (value.length <= 1) return value;
  
  const body = value.slice(0, -1);
  const dv = value.slice(-1).toUpperCase();
  const formattedBody = body.replace(/\B(?=(\d{3})+(?!\d))/g, ".");
  
  return `${formattedBody}-${dv}`;
};

export const isValidEmail = (email) => {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
};
</file>

<file path="vite.config.js">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})
</file>

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

# Seguridad y Variables de Entorno
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# Archivos de Sistema
.DS_Store
Thumbs.db

# Logs de error adicionales
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
</file>

<file path="src/index.css">
/* src/index.css */
body {
  margin: 0;
  display: block; /* Quita el centrado forzado de Vite */
  min-width: 320px;
  min-height: 100vh;
  background-color: #f0f4f8; /* Fondo gris cl√≠nico suave */
}

#root {
  width: 100%;
}
</file>

<file path="src/pages/PatientFile.jsx">
import React, { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { 
    Phone, 
    ArrowLeft, 
    User, 
    AlertTriangle, 
    HeartPulse, 
    ShieldCheck, 
    Download, 
    Activity, 
    Droplets, 
    CreditCard, 
    Scale, 
    Ruler, 
    Heart as HeartIcon, 
    FileWarning 
} from 'lucide-react';
import { 
    getMedicalRecord, 
    getPatientDashboardData, 
    getPatientHistory, 
    getDownloadUrl,
    getPatientById 
} from '../services/SpecialistService';
import GlucoseCard from '../components/Dashboard/GlucoseCard';
import PressureCard from '../components/Dashboard/PressureCard';
import '../Styles/SpecialistStyles.css';

const PatientFile = () => {
  const { id: userId } = useParams(); 
  const navigate = useNavigate();
  const [medicalRecord, setMedicalRecord] = useState(null);
  const [userProfile, setUserProfile] = useState(null);
  const [dashboardData, setDashboardData] = useState({ glucose: null, pressure: null });
  const [history, setHistory] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const loadData = async () => {
      try {
        const token = localStorage.getItem('token');
        if (!token) {
            navigate('/login');
            return;
        }
        
        const [record, dash, hist, profile] = await Promise.all([
            getMedicalRecord(userId),
            getPatientDashboardData(userId),
            getPatientHistory(userId),
            getPatientById(userId)
        ]);

        setMedicalRecord(record);
        setDashboardData(dash);
        setHistory(hist);
        setUserProfile(profile);

      } catch (error) {
        console.error(error);
      } finally {
        setLoading(false);
      }
    };
    if (userId) loadData();
  }, [userId, navigate]);

  const calculateIMC = (weight, height) => {
    if (!weight || !height || height === 0) return '-';
    const heightInMeters = height / 100;
    return (weight / (heightInMeters * heightInMeters)).toFixed(1);
  };

  const renderStatusBadges = (record) => {
    const alerts = [];

    if (record.glucose) {
        if (record.glucose > 140) {
            alerts.push({ text: 'Glucosa Alta', className: 'badge-warning' });
        } else if (record.glucose < 70) {
            alerts.push({ text: 'Hipoglucemia', className: 'badge-danger' });
        }
    }

    if (record.systolic && record.diastolic) {
        if (record.systolic >= 140 || record.diastolic >= 90) {
            alerts.push({ text: 'Hipertensi√≥n', className: 'badge-danger' });
        } else if (record.systolic >= 130 || record.diastolic >= 85) {
            alerts.push({ text: 'Presi√≥n Elevada', className: 'badge-warning' });
        }
    }

    if (alerts.length === 0) {
        return <span className="status-dot green">Estable</span>;
    }

    return (
        <div className="badges-container">
            {alerts.map((alert, index) => (
                <span key={index} className={`status-badge-mini ${alert.className}`}>
                    {alert.text}
                </span>
            ))}
        </div>
    );
  };

  if (loading) return <div className="loading-screen">Verificando datos en la base de datos...</div>;

  return (
    <div className="file-bg">
      <div className="file-container">
        <header className="file-top-bar">
            <button className="btn-back" onClick={() => navigate(-1)}>
                <ArrowLeft size={18} /> Volver al Panel
            </button>
            <div className="header-center-info">
                <h1>Ficha Cl√≠nica Digital</h1>
                <p className="patient-subtitle">
                    Paciente: {userProfile ? `${userProfile.first_names} ${userProfile.last_names}` : userId}
                </p>
            </div>
            <div className="placeholder-side"></div>
        </header>

        <div className="file-grid">
            <aside className="patient-info-card">
                <div className="profile-avatar-large"><User size={40} /></div>
                <h3 className="card-title">Resumen Cl√≠nico</h3>
                
                <div className="info-group">
                    <label><User size={14}/> Nombre Completo</label>
                    <span className="value-text capitalize-text">
                        {userProfile ? `${userProfile.first_names} ${userProfile.last_names}` : 'No disponible'}
                    </span>
                </div>

                <div className="info-group">
                    <label><CreditCard size={14}/> RUT</label>
                    <span className="value-text">{userProfile?.rut || 'No disponible'}</span>
                </div>

                <div className="divider"></div>

                {!medicalRecord ? (
                  <div className="sos-section-embedded no-record">
                      <div className="sos-label gray">
                          <FileWarning size={14} /> Ficha M√©dica Inexistente
                      </div>
                      <p className="no-record-text">
                          Este usuario no ha completado su registro inicial de salud.
                      </p>
                  </div>
                ) : (
                  <>
                    <div className="info-group">
                        <label><HeartPulse size={14}/> Sangre</label>
                        <span className="badge-blood">{medicalRecord.blood_type || '---'}</span>
                    </div>
                    
                    <div className="info-group">
                        <label className="alert-label"><AlertTriangle size={14}/> Alergias</label>
                        <p className="condition-text">
                          {medicalRecord.allergies || 'Ninguna'}
                        </p>
                    </div>

                    <div className="info-group">
                        <label><ShieldCheck size={14}/> Enf. Cr√≥nicas</label>
                        <p className="condition-text">
                          {medicalRecord.chronic_diseases || 'Ninguna'}
                        </p>
                    </div>

                    <div className="divider"></div>

                    <div className="physical-data">
                        <div className="phy-item">
                            <small><Scale size={14}/> Peso</small>
                            <strong>{medicalRecord.initial_weight || '---'} kg</strong>
                        </div>
                        <div className="phy-item">
                            <small><Ruler size={14}/> Altura</small>
                            <strong>{medicalRecord.height || '---'} cm</strong>
                        </div>
                        <div className="phy-item">
                            <small><HeartIcon size={14}/> IMC</small>
                            <strong className="imc-value">
                                {calculateIMC(medicalRecord.initial_weight, medicalRecord.height)}
                            </strong>
                        </div>
                    </div>

                    <div className="sos-section-embedded">
                        <div className="sos-label">
                            <Phone size={14} /> Contacto Emergencia
                        </div>
                        <div className="sos-data-row">
                            <strong>Nombre:</strong>
                            <span>{medicalRecord.emergency_contact_name || 'No registrado'}</span>
                        </div>
                        <div className="sos-data-row">
                            <strong>N√∫mero:</strong>
                            <span className="sos-phone-black">{medicalRecord.emergency_contact_phone || '---'}</span>
                        </div>
                    </div>
                  </>
                )}
            </aside>

            <section className="vitals-section">
                <div className="vitals-cards-grid">
                    <GlucoseCard 
                        glucose={dashboardData.glucose?.value || 0}
                        date={dashboardData.glucose?.date}
                    />
                    <PressureCard 
                        systolic={dashboardData.pressure?.systolic || 0}
                        diastolic={dashboardData.pressure?.diastolic || 0}
                        date={dashboardData.pressure?.date} 
                    />
                </div>

                <div className="history-section-mini">
                    <div className="section-header">
                        <h3>Historial de Controles</h3>
                        <button className="btn-download" onClick={() => window.open(getDownloadUrl(userId), '_blank')}>
                            <Download size={16} /> Exportar PDF
                        </button>
                    </div>
                    <div className="mini-table-container">
                        <table className="mini-table">
                            <thead>
                                <tr>
                                    <th>FECHA</th>
                                    <th><Droplets size={14}/> GLUCOSA</th>
                                    <th><Activity size={14}/> PRESION</th>
                                    <th>ESTADO</th>
                                </tr>
                            </thead>
                            <tbody>
                                {history.length > 0 ? history.map((h, i) => (
                                    <tr key={i}>
                                        <td>{new Date(h.date).toLocaleDateString()}</td>
                                        <td>
                                            {h.glucose ? <span className={`value-box ${h.glucose > 140 ? 'val-high' : h.glucose < 70 ? 'val-low' : 'val-normal'}`}>{h.glucose} mg/dL</span> : '--'}
                                        </td>
                                        <td>
                                            {h.systolic ? <span className={`value-box ${h.systolic >= 140 || h.diastolic >= 90 ? 'val-high' : 'val-normal'}`}>{h.systolic}/{h.diastolic} mmHg</span> : '--'}
                                        </td>
                                        <td className="status-cell">
                                            {renderStatusBadges(h)}
                                        </td>
                                    </tr>
                                )) : <tr><td colSpan="4" className="no-data">Sin registros hist√≥ricos</td></tr>}
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>
      </div>
    </div>
  );
};

export default PatientFile;
</file>

<file path="src/pages/ProfilePage.jsx">
import React, { useEffect, useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { User, Ruler, AlertTriangle, Phone, AlertCircle, Save, X } from 'lucide-react';
import { getMedicalRecord, updateMedicalRecord } from '../services/MedicalService'; 
import { requestAccountDeletion } from '../services/AdminService';
import '../Styles/ProfileStyles.css';

const ProfilePage = () => {
  const navigate = useNavigate();
  const [profile, setProfile] = useState(null);
  const [loading, setLoading] = useState(true);
  const [userName, setUserName] = useState("Mi Perfil"); 
  const [isEditing, setIsEditing] = useState(false);
  const [formData, setFormData] = useState({});
  const [showDeleteModal, setShowDeleteModal] = useState(false);
  
  const [phoneEdit, setPhoneEdit] = useState("");

  const fetchProfile = async () => {
    const userId = localStorage.getItem('user_id');
    const storedName = localStorage.getItem('user_name');
    
    if (storedName) setUserName(storedName);
    if (!userId) { navigate('/login'); return; }

    try {
      const data = await getMedicalRecord(userId);
      setProfile(data);
      
      const initialForm = data || {};
      setFormData(initialForm);

      if (initialForm.emergency_contact_phone) {
          const rawPhone = initialForm.emergency_contact_phone.toString();
          setPhoneEdit(rawPhone.replace(/^\+56/, ''));
      }

    } catch (error) {
      console.error(error);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => { fetchProfile(); }, [navigate]);

  const handleChange = (e) => {
    const { name, value } = e.target;
    
    if (name === 'height' && (value < 0 || value > 300)) return;
    if (name === 'initial_weight' && (value < 0 || value > 600)) return;

    setFormData({ ...formData, [name]: value });
  };

  const handlePhoneEditChange = (e) => {
      const val = e.target.value.replace(/[^0-9]/g, '');
      if (val.length <= 9) {
          setPhoneEdit(val);
      }
  };

  const handleSave = async () => {
    if (phoneEdit.length !== 9 || !phoneEdit.startsWith('9')) {
        alert("El tel√©fono de emergencia debe tener 9 d√≠gitos y comenzar con 9.");
        return;
    }

    try {
      const userId = localStorage.getItem('user_id');
      
      const finalPhone = `+56${phoneEdit}`;

      const payload = {
        ...formData,
        emergency_contact_phone: finalPhone,
        current_weight: formData.initial_weight 
      };

      await updateMedicalRecord(userId, payload);
      
      setProfile(payload);
      setFormData(payload);
      setIsEditing(false);  
      alert("¬°Perfil actualizado!");
    } catch (error) {
      alert("Error al guardar cambios: " + error.message);
    }
  };

  const confirmDeletion = async () => {
    const userId = localStorage.getItem('user_id');
    if (!userId) return;

    const { success, error } = await requestAccountDeletion(userId);

    if (success) {
      setShowDeleteModal(false);
      alert("Solicitud enviada correctamente.");
    } else {
      alert("Error: " + error);
    }
  };

  if (loading) return <div className="loading-container">Cargando...</div>;
  
  if (!profile) return (
    <div className="profile-container">
        <div className="empty-state">
          <h2>Ficha m√©dica no encontrada</h2>
          <p>Hola <b>{userName}</b>, necesitamos tus datos para comenzar.</p>
          <Link to="/ficha-medica" className="btn-create-record">Crear Ficha M√©dica</Link>
        </div>
    </div>
  );

  return (
    <div className="profile-container">
      <div className="profile-header">
        <div className="profile-avatar">
          <User size={40} />
        </div>
        <div className="profile-title">
          <h1 style={{textTransform: 'capitalize'}}>{userName}</h1>
          <p>Informaci√≥n M√©dica Personal</p>
        </div>
        {!isEditing && (
          <button className="btn-edit" onClick={() => setIsEditing(true)}>Editar</button>
        )}
      </div>

      <div className="profile-grid">
        <div className="info-card">
          <div className="card-header">
            <Ruler size={24} color="#2563eb" />
            <h3>Datos Corporales</h3>
          </div>
          <div className="info-item">
            <span className="info-label">Estatura (cm)</span>
            {isEditing ? <input type="number" name="height" value={formData.height} onChange={handleChange} className="form-input-edit" /> : <span className="info-value">{profile.height} cm</span>}
          </div>
          <div className="info-item">
            <span className="info-label">Peso (kg)</span>
            {isEditing ? <input type="number" name="initial_weight" value={formData.initial_weight} onChange={handleChange} className="form-input-edit" /> : <span className="info-value">{profile.initial_weight} kg</span>}
          </div>
           <div className="info-item">
            <span className="info-label">Grupo Sangu√≠neo</span>
             {isEditing ? (
              <select name="blood_type" value={formData.blood_type} onChange={handleChange} className="form-input-edit">
                  <option value="A+">A+</option>
                  <option value="O+">O+</option>
                  <option value="B+">B+</option>
                  <option value="AB+">AB+</option>
                  <option value="A-">A-</option>
                  <option value="O-">O-</option>
                  <option value="B-">B-</option>
                  <option value="AB-">AB-</option>
              </select>
            ) : <span className="info-value">{profile.blood_type}</span>}
          </div>
        </div>

        <div className="info-card">
          <div className="card-header">
            <AlertTriangle size={24} color="#2563eb" />
            <h3>Alertas M√©dicas</h3>
          </div>
          <div className="info-item">
            <span className="info-label">Alergias</span>
            {isEditing ? <input type="text" name="allergies" value={formData.allergies} onChange={handleChange} className="form-input-edit" /> : <span className="info-value">{profile.allergies || 'Ninguna'}</span>}
          </div>
          <div className="info-item">
            <span className="info-label">Enf. Cr√≥nicas</span>
             {isEditing ? <input type="text" name="chronic_diseases" value={formData.chronic_diseases} onChange={handleChange} className="form-input-edit" /> : <span className="info-value">{profile.chronic_diseases || 'Ninguna'}</span>}
          </div>
        </div>

        <div className="info-card">
          <div className="card-header">
            <Phone size={24} color="#2563eb" />
            <h3>Emergencia</h3>
          </div>
          <div className="info-item">
            <span className="info-label">Nombre Contacto</span>
             {isEditing ? <input type="text" name="emergency_contact_name" value={formData.emergency_contact_name} onChange={handleChange} className="form-input-edit" /> : <span className="info-value">{profile.emergency_contact_name}</span>}
          </div>
          <div className="info-item">
            <span className="info-label">Tel√©fono (+56)</span>
             {isEditing ? (
                <div className="phone-edit-wrapper">
                    <span className="prefix-span">+56</span>
                    <input 
                        type="tel" 
                        value={phoneEdit} 
                        onChange={handlePhoneEditChange} 
                        className="form-input-edit phone-input" 
                        placeholder="9XXXXXXXX"
                    />
                </div>
             ) : (
                <span className="info-value phone-display">{profile.emergency_contact_phone}</span>
             )}
          </div>
        </div>
      </div>
      
      {!isEditing && (
        <div className="danger-zone">
          <div className="danger-content">
            <h3>Eliminar Cuenta</h3>
            <p>Esta acci√≥n solicitar√° el borrado permanente de tus datos.</p>
          </div>
          <button className="btn-request-delete" onClick={() => setShowDeleteModal(true)}>Solicitar Eliminaci√≥n</button>
        </div>
      )}

      {isEditing && (
        <div className="edit-actions">
          <button onClick={handleSave} className="btn-create-record">
              <Save size={18} style={{marginRight: '5px'}}/> Guardar Cambios
          </button>
          <button onClick={() => { setIsEditing(false); setFormData(profile); setPhoneEdit(profile.emergency_contact_phone?.replace(/^\+56/, '')); }} className="btn-cancel-edit">
              <X size={18} style={{marginRight: '5px'}}/> Cancelar
          </button>
        </div>
      )}

      {showDeleteModal && (
        <div className="custom-modal-overlay">
          <div className="custom-modal-content">
            <div className="modal-icon-warning">
              <AlertCircle size={32} color="#dc2626" />
            </div>
            <h3>¬øConfirmar solicitud?</h3>
            <p>Un administrador revisar√° la solicitud para borrar tus datos permanentemente.</p>
            <div className="modal-actions">
              <button className="btn-modal-cancel" onClick={() => setShowDeleteModal(false)}>Cancelar</button>
              <button className="btn-modal-confirm" onClick={confirmDeletion}>Confirmar</button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default ProfilePage;
</file>

<file path="src/services/downloadService.js">
import axios from 'axios';
import { formatDateDownload } from "../utils/formatDateDownload";

const API_DESCARGA = import.meta.env.VITE_API_DESCARGA;

export async function descargarHistorial(userId, formato) {
  try {
    const response = await axios.get(
      `${API_DESCARGA}/api/descargas/historial/${formato}/${userId}`,
      { responseType: 'blob' } 
    );

    const blob = new Blob([response.data]);
    const url = window.URL.createObjectURL(blob);

    const fecha = formatDateDownload(new Date())
      .replace(/ /g, "_")
      .replace(/¬∑/g, "")
      .replace(/:/g, "-");

    const a = document.createElement("a");
    a.href = url;
    a.download = `historial_${userId}_${fecha}.${formato}`;

    document.body.appendChild(a);
    a.click();

    a.remove();
    window.URL.revokeObjectURL(url);

  } catch (error) {
    console.error("Error descargando historial:", error);
  }
}
</file>

<file path="src/services/MedicalService.js">
import axios from 'axios';

const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';

const getConfig = () => ({
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${localStorage.getItem('token')}`
  }
});

export const createMedicalRecord = async (data) => {
  try {
    const response = await axios.post(`${API_URL}/medical/records`, data, getConfig());
    return response.data;
  } catch (error) {
    console.error("Error en createMedicalRecord:", error);
    throw new Error(error.response?.data?.error || 'Error al crear ficha');
  }
};

export const getMedicalRecord = async (userId) => {
  try {
    const response = await axios.get(`${API_URL}/medical/records/${userId}`, getConfig());
    return response.data;
  } catch (error) {
    if (error.response && error.response.status === 404) {
        console.warn("Ficha m√©dica no encontrada (404) para usuario:", userId);
        return null;
    }
    console.error("Error de red en getMedicalRecord:", error.message);
    return null;
  }
};

export const updateMedicalRecord = async (userId, updatedData) => {
  try {
    const response = await axios.put(`${API_URL}/medical/records/${userId}`, updatedData, getConfig());
    return response.data;
  } catch (error) {
    console.error("Error en updateMedicalRecord:", error);
    throw new Error(error.response?.data?.error || 'Error al actualizar datos');
  }
};
</file>

<file path="src/services/SpecialistService.js">
import axios from 'axios';

const API_USERS_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';
const API_REGISTRO_URL = import.meta.env.VITE_API_REGISTRO_URL || 'http://localhost:3001';
const API_DOWNLOAD_URL = import.meta.env.VITE_API_DESCARGA || 'http://localhost:3002';

const getConfig = () => ({
    headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${localStorage.getItem('token')}`
    }
});

export const getPatientById = async (id) => {
  try {
    const response = await axios.get(`${API_USERS_URL}/users/${id}`, getConfig());
    return response.data;
  } catch (error) {
    console.error(`Error getPatientById (${id}):`, error.message);
    return null;
  }
};

export const getPatients = async () => {
  try {
    const response = await axios.get(`${API_USERS_URL}/patients`, getConfig());
    return response.data;
  } catch (error) {
    console.error("Error getPatients:", error.message);
    return [];
  }
};

export const getMedicalRecord = async (userId) => {
  try {
    const response = await axios.get(`${API_USERS_URL}/medical/records/${userId}`, getConfig());
    return response.data;
  } catch (error) {
    if (error.response && error.response.status === 404) {
        return null;
    }
    console.error("Error getMedicalRecord:", error.message);
    return null;
  }
};

export const getPatientDashboardData = async (userId) => {
  try {
    const response = await axios.get(`${API_REGISTRO_URL}/api/registros/dashboard/${userId}`, getConfig());
    return response.data;
  } catch (error) {
    return { glucose: null, pressure: null };
  }
};

export const getPatientHistory = async (userId) => {
  try {
    const response = await axios.get(`${API_REGISTRO_URL}/api/registros/historial/${userId}`, getConfig());
    return response.data;
  } catch (error) {
    return [];
  }
};

export const getDownloadUrl = (userId) => {
    return `${API_DOWNLOAD_URL}/api/descargas/historial/pdf/${userId}`;
};
</file>

<file path="src/Styles/ChatWidgetStyles.css">
.chat-container {
  position: fixed !important;
  bottom: 30px !important;
  right: 30px !important;
  z-index: 999999 !important;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.chat-button {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: white;
  border: none;
  box-shadow: 0 4px 20px rgba(34, 197, 94, 0.4);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  position: relative;
  animation: pulse-heartbeat 2s infinite;
}

.chat-button:hover {
  transform: scale(1.05);
  background: linear-gradient(135deg, #4ade80, #22c55e);
}

.chat-button.open {
  background: #334155;
  transform: rotate(90deg);
  animation: none;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.notification-dot {
  position: absolute;
  top: 2px;
  right: 2px;
  width: 15px;
  height: 15px;
  background-color: #2563eb;
  border: 2px solid white;
  border-radius: 50%;
  box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
}

@keyframes pulse-heartbeat {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
  50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
}

.chat-window {
  position: absolute;
  bottom: 95px;
  right: 0;
  width: 380px;
  max-width: 90vw;
  height: 600px;
  max-height: 75vh;
  background: #ffffff;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border: 1px solid #e2e8f0;
  animation: chatFadeIn 0.25s ease-out;
  transform-origin: bottom right;
}

@keyframes chatFadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

.chat-header {
  background: linear-gradient(135deg, #1e40af, #2563eb);
  color: white;
  padding: 16px 20px;
}

.header-info {
  display: flex;
  align-items: center;
  gap: 12px;
}

.bot-avatar-container {
  width: 44px;
  height: 44px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(5px);
  border: 2px solid rgba(255,255,255,0.3);
}

.bot-name {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 700;
}

.online-indicator {
  font-size: 0.85rem;
  color: #bfdbfe;
  display: flex;
  align-items: center;
}

.chat-messages {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  background-color: #f8fafc;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.message {
  max-width: 85%;
  padding: 12px 16px;
  font-size: 0.95rem;
  line-height: 1.5;
  position: relative;
  word-wrap: break-word;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.message.user {
  background: #2563eb;
  color: white;
  align-self: flex-end;
  border-radius: 18px 18px 4px 18px;
}

.message.ai {
  background: #ffffff;
  color: #334155;
  align-self: flex-start;
  border-radius: 4px 18px 18px 18px;
  border: 1px solid #e2e8f0;
}

.loading-container {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #64748b;
  font-style: italic;
  padding: 10px 16px;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.chat-input-area {
  padding: 15px;
  background: white;
  border-top: 1px solid #f1f5f9;
  display: flex;
  gap: 10px;
  align-items: center;
}

.chat-input {
  flex: 1;
  border: 1px solid #cbd5e1;
  border-radius: 25px;
  padding: 12px 18px;
  outline: none;
  font-size: 0.95rem;
  transition: border-color 0.2s;
}

.chat-input:focus {
  border-color: #2563eb;
}

.send-button {
  background: #2563eb;
  color: white;
  border: none;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}

.send-button:hover:not(:disabled) {
  background: #1d4ed8;
}

.send-button:disabled {
  background: #94a3b8;
  cursor: not-allowed;
}
</file>

<file path="src/Styles/healthRegister.css">
.health-page {
  padding: 20px;
  max-width: 900px;
  margin: auto;
}

.health-page h1 {
  font-size: 2.2rem;
  color: #1f4fd8;
}

.health-page p {
  font-size: 1.2rem;
  margin-bottom: 20px;
}

.health-form {
  display: grid;
  gap: 20px;
}

.form-card {
  background: white;
  padding: 25px;
  border-radius: 16px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.08);
}

.form-card.blue {
  border: 3px solid #2b63e0;
}

.form-card.red {
  border: 3px solid #d92c2c;
}

.form-card h2 {
  font-size: 1.6rem;
  margin-bottom: 15px;
}

.form-card input {
  width: 100%;
  font-size: 1.5rem;
  padding: 15px;
  border-radius: 10px;
  border: 2px solid #ccc;
}

.pressure-inputs {
  display: flex;
  align-items: center;
  gap: 10px;
}

.pressure-inputs span {
  font-size: 2rem;
}

.save-btn {
  margin-top: 20px;
  background: linear-gradient(135deg, #2563eb, #1e40af);
  color: white;
  border: none;
  padding: 20px;
  font-size: 1.6rem;
  border-radius: 15px;
  cursor: pointer;
}


.save-btn:hover {
  opacity: 0.9;
}

/* Responsive para celulares */
@media (max-width: 600px) {
  .health-page h1 {
    font-size: 1.8rem;
  }

  .form-card h2 {
    font-size: 1.4rem;
  }

  .form-card input {
    font-size: 1.3rem;
  }

  .save-btn {
    font-size: 1.4rem;
  }
}
.bp-inputs {
  display: flex;
  gap: 10px;
  width: 100%;
  box-sizing: border-box;
}
.bp-inputs input {
  flex: 1;
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

.bp-inputs input {
  flex: 1;
  min-width: 0;
}

/* MODO M√ìVIL */
@media (max-width: 480px) {
  .bp-inputs {
    flex-direction: column;
    align-items: stretch;
  }

  .bp-inputs span {
    display: none;
  }

  .bp-inputs input {
    width: 100%;
    font-size: 18px;
    padding: 14px;
  }
}
</file>

<file path="src/Styles/loginStyles.css">
.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  background-color: #f0f4f8;
}

.login-box {
  background: white;
  padding: 2.5rem;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 400px;
  border-top: 6px solid #1e40af; 
  text-align: center;
}

.login-logo {
  width: 220px;
  height: auto;
  margin-bottom: 20px;
}

.input-group-login {
  margin-bottom: 15px;
  text-align: left;
}

.input-group-login label {
  display: block;
  margin-bottom: 5px;
  font-size: 0.9rem;
  color: #1e3a8a;
  font-weight: bold;
}

.input-group-login input {
  width: 100%;
  padding: 12px;
  border-radius: 6px;
  border: 1px solid #d1d5db;
  box-sizing: border-box;
}

.btn-login {
  width: 100%;
  padding: 14px;
  background-color: #1e40af; 
  color: white;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.3s;
  margin-top: 10px;
}

.btn-login:hover {
  background-color: #1d4ed8;
}

.auth-footer {
  margin-top: 20px;
  font-size: 0.9rem;
  color: #64748b;
}

.auth-footer a {
  color: #2563eb;
  font-weight: bold;
  text-decoration: none;
}

@media (max-width: 480px) {
  .login-box {
    padding: 1.5rem;
    box-shadow: none;
    border-radius: 8px;
  }
  .login-logo {
    width: 180px;
  }
}

.btn-link {
  background: none;
  border: none;
  color: #2563eb;
  text-decoration: underline;
  cursor: pointer;
  font-size: 0.9rem;
  margin-bottom: 15px;
  display: block;
  width: 100%;
  text-align: right;
  padding: 0;
}

.btn-link:hover {
  color: #1e40af;
}

.modal-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  padding: 20px;
}

.modal-content {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  width: 100%;
  max-width: 380px;
  text-align: center;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

.modal-content h3 {
  color: #1e3a8a;
  margin-top: 0;
}

.input-reset {
  width: 100%;
  padding: 12px;
  margin: 15px 0;
  border: 1px solid #ccc;
  border-radius: 6px;
  box-sizing: border-box;
}

.modal-actions {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 15px;
}

.btn-cancel {
  padding: 10px 18px;
  border: 1px solid #ccc;
  background: white;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
}

.btn-confirm {
  padding: 10px 18px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
}

.btn-confirm.disabled {
  background: #93c5fd;
  cursor: not-allowed;
}

.status-msg {
  font-size: 0.9rem;
  margin-bottom: 10px;
  font-weight: bold;
}
.status-msg.success { color: #16a34a; }
.status-msg.error { color: #dc2626; }

.cooldown-text {
  color: #d97706;
  font-weight: bold;
  font-size: 0.9rem;
  margin-top: 10px;
}
</file>

<file path="src/Styles/ProfileStyles.css">
.profile-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 40px 20px;
  font-family: 'Segoe UI', sans-serif;
  color: #333;
}

.loading-container {
  text-align: center; 
  margin-top: 50px;
  font-size: 1.2rem;
  color: #666;
}

.profile-header {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 40px;
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  padding: 30px;
  border-radius: 15px;
  color: white;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.2);
}

.profile-avatar {
  background: white;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.5rem;
  color: #2563eb;
}

.profile-title h1 {
  margin: 0;
  font-size: 2rem;
}

.profile-title p {
  margin: 5px 0 0;
  opacity: 0.9;
}

.btn-edit {
  margin-left: auto; 
  background: white; 
  color: #2563eb; 
  border: none; 
  padding: 10px 20px; 
  border-radius: 8px; 
  font-weight: bold; 
  cursor: pointer;
  transition: transform 0.2s;
}

.btn-edit:hover {
  transform: scale(1.05);
}

.profile-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

.info-card {
  background: white;
  padding: 25px;
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  transition: transform 0.2s;
}

.info-card:hover {
  transform: translateY(-3px);
  border-color: #bfdbfe;
}

.card-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
  border-bottom: 1px solid #f0f0f0;
  padding-bottom: 10px;
}

.card-header h3 {
  margin: 0;
  color: #2563eb;
  font-size: 1.2rem;
}

.info-item {
  margin-bottom: 15px;
}

.info-label {
  display: block;
  font-size: 0.85rem;
  color: #64748b;
  font-weight: 600;
  text-transform: uppercase;
  margin-bottom: 4px;
}

.info-value {
  font-size: 1.1rem;
  color: #1e293b;
  font-weight: 500;
}

.empty-state {
  text-align: center;
  padding: 60px;
  background: #f8fafc;
  border-radius: 15px;
  border: 2px dashed #cbd5e1;
}

.btn-create-record {
  background: #2563eb;
  color: white;
  padding: 12px 25px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: bold;
  display: inline-block;
  margin-top: 20px;
  cursor: pointer;
  border: none;
}

.form-input-edit {
  width: 100%;
  padding: 8px;
  border: 1px solid #2563eb;
  border-radius: 6px;
  background: #f0f9ff;
  font-size: 1rem;
  color: #333;
}

.edit-actions {
  margin-top: 30px; 
  display: flex; 
  gap: 15px; 
  justify-content: center;
}

.btn-cancel-edit {
  padding: 12px 25px;
  background: #ef4444; 
  color: white; 
  border: none; 
  border-radius: 8px; 
  font-weight: bold; 
  cursor: pointer;
}

.danger-zone {
  margin-top: 40px;
  padding: 20px 25px;
  background-color: #fff1f2;
  border: 1px solid #fecaca;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}

.danger-content h3 {
  margin: 0;
  color: #991b1b;
  font-size: 1.1rem;
}

.danger-content p {
  margin: 5px 0 0;
  color: #b91c1c;
  font-size: 0.9rem;
}

.btn-request-delete {
  background-color: #dc2626;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.btn-request-delete:hover {
  background-color: #b91c1c;
  box-shadow: 0 4px 10px rgba(220, 38, 38, 0.25);
}

.custom-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  backdrop-filter: blur(3px);
}

.custom-modal-content {
  background: white;
  padding: 30px;
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  animation: popIn 0.3s ease-out;
}

@keyframes popIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.modal-icon-warning {
  width: 60px;
  height: 60px;
  background-color: #fee2e2;
  color: #dc2626;
  font-size: 30px;
  font-weight: bold;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px auto;
  border: 4px solid #fecaca;
}

.custom-modal-content h3 {
  margin: 0 0 10px 0;
  color: #1f2937;
  font-size: 1.5rem;
}

.custom-modal-content p {
  color: #6b7280;
  margin-bottom: 25px;
  line-height: 1.5;
}

.modal-actions {
  display: flex;
  gap: 12px;
  justify-content: center;
}

.btn-modal-cancel {
  background-color: #e5e7eb;
  color: #374151;
  border: none;
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
}

.btn-modal-cancel:hover {
  background-color: #d1d5db;
}

.btn-modal-confirm {
  background-color: #dc2626;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
}

.btn-modal-confirm:hover {
  background-color: #b91c1c;
  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
}

.phone-edit-wrapper {
    display: flex;
    align-items: center;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    background: white;
}

.prefix-span {
    padding: 8px 10px;
    background: #f3f4f6;
    color: #6b7280;
    font-weight: 600;
    font-size: 0.9rem;
    border-right: 1px solid #e5e7eb;
    border-top-left-radius: 6px;
    border-bottom-left-radius: 6px;
}

.form-input-edit.phone-input {
    border: none;
    padding: 8px;
    width: 100%;
    outline: none;
    border-top-right-radius: 6px;
    border-bottom-right-radius: 6px;
}

.phone-display {
    font-family: monospace;
    font-size: 1rem;
    letter-spacing: 0.5px;
    color: #1f2937;
}

@media (max-width: 600px) {
  .danger-zone {
    flex-direction: column;
    text-align: center;
  }
  .btn-request-delete {
    width: 100%;
  }
  .modal-actions {
    flex-direction: column;
  }
  .btn-modal-cancel, .btn-modal-confirm {
    width: 100%;
  }
}
</file>

<file path="README.md">
# Frontend - Salud Al D√≠a 

Esta es la interfaz de usuario de **Salud Al D√≠a**, una plataforma web moderna desarrollada con **React** y **Vite**. Permite a los usuarios gestionar su salud mediante un flujo de registro, autenticaci√≥n y creaci√≥n de fichas m√©dicas detalladas.

##  Tecnolog√≠as y Herramientas

* **React (Vite)**: Framework principal enfocado en el rendimiento y velocidad de desarrollo.
* **Axios**: Cliente HTTP para la comunicaci√≥n con el microservicio de usuarios.
* **React Router**: Gesti√≥n de navegaci√≥n entre p√°ginas (SPA).
* **CSS3**: Estilos personalizados organizados en la carpeta `/Styles`.

## ‚öôÔ∏è Configuraci√≥n del Entorno

Para que la aplicaci√≥n funcione correctamente, debe conectarse al Backend mediante variables de entorno.

### Desarrollo Local (`.env`):
Crea un archivo llamado `.env` en la ra√≠z del proyecto:
```env
VITE_API_URL=http://localhost:3000
Producci√≥n (Railway):
Configura estas variables en el panel de Railway para conectar con el servidor en vivo:

VITE_API_URL: https://ms-users-service-salud-production.up.railway.app.

 Estructura de Rutas y Navegaci√≥n
El flujo de usuario est√° dise√±ado de forma l√≥gica:

/signup: Formulario de registro de nuevos pacientes.

/login: Acceso para usuarios registrados.

/ficha-medica: Formulario inicial de salud (se requiere registro previo).

/Dashboard: Panel principal de control del usuario.

 Instalaci√≥n y Uso
Clonar el repositorio:

Bash

git clone [https://github.com/victor99a/front-salud-al-dia.git](https://github.com/victor99a/front-salud-al-dia.git)
Instalar dependencias:

Bash

npm install
Ejecutar en modo desarrollo:

Bash

npm run dev
 Notas de Despliegue en Railway
Target Port: La aplicaci√≥n debe escuchar en el puerto 4173 (Vite Preview) para que el dominio p√∫blico funcione.

URL P√∫blica: https://front-salud-al-dia-production.up.railway.app.

Importante: Se debe respetar estrictamente el uso de may√∫sculas en las rutas de carpetas (ej: /Styles/) para evitar errores de compilaci√≥n en Linux/Railway.
</file>

<file path="src/Styles/DashboardStyles.css">
/* FONDO GENERAL */
.dashboard-bg {
  min-height: 100vh;
  background: linear-gradient(180deg, #eef2ff, #e0e7ff);
  display: flex;
  justify-content: center;
  padding: 2rem 1rem;
}

/* CONTENEDOR PRINCIPAL */
.dashboard-container {
  width: 100%;
  max-width: 1100px;
  background: white;
  border-radius: 28px;
  padding: 2.5rem;
  box-shadow: 0 30px 70px rgba(0,0,0,0.08);
}

/* HEADER */
.dashboard-header h1 {
  font-size: 2.2rem;
  font-weight: 700;
}

.dashboard-header p {
  margin-top: 0.4rem;
  color: #64748b;
}

/* GRID RESPONSIVE */
.cards-container {
  margin-top: 2.5rem;
  padding: 2.5rem;

  background: linear-gradient(180deg, #ffffff, #f4f7ff);
  border-radius: 26px;

  display: grid;

  /* üëá 2 columnas fijas en desktop */
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;

  box-shadow: inset 0 0 0 1px rgba(226, 232, 255, 0.8);
}

/* TARJETAS BASE */
.card {
  background: #fff;
  border-radius: 22px;
  padding: 1.8rem;
  box-shadow: 0 12px 30px rgba(0,0,0,0.06);
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

/* HEADER TARJETA */
.card-header {
  display: flex;
  align-items: center;
  gap: 0.8rem;
}

.icon {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-size: 1.7rem;
}

/* ICONOS */
.glucose-icon {
  background: #fee2e2;
  color: #b91c1c;
}

.pressure-icon {
  background: #e0f2fe;
  color: #0369a1;
}

/* VALORES */
.value {
  font-size: 2.4rem;
  font-weight: 700;
}

.value span {
  font-size: 1rem;
  color: #64748b;
}

/* FECHA */
.date {
  font-size: 0.9rem;
  color: #64748b;
}

/* ESTADOS */
.normal {
  border-left: 6px solid #22c55e;
}

.warning {
  border-left: 6px solid #f59e0b;
}

.danger {
  border-left: 6px solid #ef4444;
}




@media (max-width: 768px) {
  .cards-container {
    grid-template-columns: 1fr;
    padding: 1.5rem;
  }

  .register-card,
  .history-card {
    grid-column: 1;
  }
}
/* ===== NIVELES ===== */

.card.normal {
  background: linear-gradient(135deg, #e0f2fe, #f0f9ff);
  border-left: 6px solid #0284c7;
}

.card.warning {
  background: linear-gradient(135deg, #fff7ed, #ffedd5);
  border-left: 6px solid #f97316;
}

.card.danger {
  background: linear-gradient(135deg, #fee2e2, #fff1f2);
  border-left: 6px solid #dc2626;
}

/* ===== TEXTO DE ESTADO ===== */

.status {
  font-size: 0.85rem;
  font-weight: 600;
  padding: 4px 10px;
  border-radius: 12px;
}

.status.normal {
  background: #0284c7;
  color: white;
}

.status.warning {
  background: #f97316;
  color: white;
}

.status.danger {
  background: #dc2626;
  color: white;
}
/* TARJETAS ACCI√ìN (Registrar / Historial) */
.action-card {
  background-color: #f5f8ff; /* azul neutro salud */
  border-radius: 20px;
  padding: 2rem;

  border: 2px solid #c7d7fe;

  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.05);

  cursor: pointer;

  /* SOLO movimiento */
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.action-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 14px 28px rgba(37, 99, 235, 0.18);
}
</file>

<file path="src/Styles/HistoryStyles.css">
.history-page {
  padding: 2rem;
  max-width: 900px;
  margin: auto;
}

.history-page h1 {
  font-size: 2.4rem;
  margin-bottom: 2rem;
  color: #1e3a8a;
}

/* TARJETA */
.history-item {
  background: linear-gradient(135deg, #f8fafc, #eef2ff);
  padding: 1.6rem;
  border-radius: 18px;
  margin-bottom: 1.4rem;
  box-shadow: 0 10px 30px rgba(30, 64, 175, 0.15);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border-left: 6px solid #2563eb;   /* AZUL IDENTIDAD */
  border-right: 6px solid #93c5fd; /* AZUL SUAVE */
}


.history-item:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(30, 64, 175, 0.25);
}

/* CABECERA */
.history-header {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 1rem;
}

.history-date {
  font-size: 0.95rem;
  color: #475569;
}

/* VALORES */
.history-values {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

/* BADGES */
.badge {
  padding: 0.7rem 1.2rem;
  border-radius: 999px;
  font-weight: 600;
  font-size: 1.05rem;
}

/* GLUCOSA */
.badge.glucose {
  background: #dbeafe;
  color: #1e40af;
}

/* PRESI√ìN */
.badge.pressure {
  background: #fee2e2;
  color: #b91c1c;
}

/* ALERTAS */
.badge.danger {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: #ffffff;
}

/* BORDE DE ALERTA */
.history-item.alert {
  border-left: 6px solid #dc2626;
}
/* ===== RESPONSIVE ‚Äì HISTORIAL ===== */

@media (max-width: 768px) {
  .history-page {
    padding: 1.5rem 1rem;
  }

  .history-page h1 {
    font-size: 2rem;
    text-align: center;
  }

  .history-item {
    padding: 1.4rem;
  }

  .history-values {
    flex-direction: column;
    gap: 0.8rem;
  }

  .badge {
    width: 100%;
    text-align: center;
    font-size: 1.2rem;
    padding: 1rem;
  }
}

@media (max-width: 480px) {
  .history-page h1 {
    font-size: 1.8rem;
  }

  .history-item {
    padding: 1.2rem;
  }

  .history-date {
    font-size: 0.9rem;
    text-align: center;
  }
}
.action-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 32px;
  cursor: pointer;
  transition: all 0.35s ease;
  box-shadow: 0 14px 32px rgba(0, 0, 0, 0.08);
  border-left: 7px solid transparent;
}

.action-card h2 {
  font-size: 1.5rem;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.action-card p {
  font-size: 0.95rem;
  color: #475569;
}





.register-card {
  background: linear-gradient(
    135deg,
    #e8efff,
    #ffffff
  );
  border-left-color: #2563eb;
}

.register-card h2 {
  color: #2563eb;
}

.register-card:hover {
  background: linear-gradient(
    135deg,
    #dbe8ff,
    #ffffff
  );
  transform: translateY(-8px);
  box-shadow: 0 22px 48px rgba(37, 99, 235, 0.45);
}

.history-card {
  background: linear-gradient(
    135deg,
    #fdecec,
    #eef3ff
  );
  border-left-color: #dc2626;
}

.history-card h2 {
  color: #1e40af; /* azul m√°s serio */
}

.history-card:hover {
  background: linear-gradient(
    135deg,
    #fbd0d0,
    #dbe8ff
  );
  transform: translateY(-8px);
  box-shadow: 0 22px 48px rgba(220, 38, 38, 0.35);
}
.download-buttons {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
}

.download-btn {
  padding: 14px 20px;
  font-size: 1.1rem;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  color: white;
}

.download-btn.pdf {
  background: #2563eb;
}

.download-btn.csv {
  background: #16a34a;
}

.download-btn:hover {
  opacity: 0.9;
}
</file>

<file path="src/Styles/medicalRecordsStyles.css">
.medical-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: #f0f4f8;
  padding: 20px;
}

.medical-box {
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  max-width: 600px;
  width: 100%;
}

.medical-header {
  text-align: center;
  margin-bottom: 20px;
}

.medical-logo {
  height: 60px;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

.full-width {
  grid-column: span 2;
}

.form-group label {
  display: block;
  font-weight: bold;
  margin-bottom: 5px;
  color: #1e40af;
}

.form-group input, .form-group select, .form-group textarea {
  width: 100%;
  padding: 10px;
  border: 1px solid #cbd5e1;
  border-radius: 6px;
  font-family: inherit;
  font-size: 1rem;
  color: #333;
}

.btn-medical {
  grid-column: span 2;
  background-color: #1e40af;
  color: white;
  padding: 12px;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.btn-medical:disabled {
  background-color: #93c5fd;
  color: #e0f2fe; 
  cursor: not-allowed; 
  opacity: 0.8;
  box-shadow: none;
}

.btn-medical:not(:disabled):hover {
  background-color: #1e3a8a;
  transform: translateY(-1px);
}

.checkbox-container {
  margin-top: 20px;
  margin-bottom: 25px;
  background-color: #eff6ff;
  border: 1px solid #dbeafe;
  border-radius: 8px;
  padding: 15px;
  transition: all 0.2s ease-in-out;
}

.checkbox-container:hover {
  background-color: #e0f2fe;
  border-color: #1e40af;
  box-shadow: 0 2px 4px rgba(30, 64, 175, 0.1);
}

.checkbox-label {
  display: flex;
  align-items: flex-start; 
  gap: 15px;
  cursor: pointer;
  text-align: left;
  user-select: none;
}

.checkbox-label input[type="checkbox"] {
  width: 20px;
  height: 20px;
  margin-top: 5px; 
  margin-right: 8px; 
  accent-color: #1e40af;
  flex-shrink: 0; 
  cursor: pointer;
}

.checkbox-text {
  font-size: 0.9rem;
  line-height: 1.6; 
  color: #334155;
}

.phone-input-group {
    display: flex;
    align-items: center;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    background: white;
    overflow: hidden;
    transition: border-color 0.2s;
    width: 100%;
}

.phone-input-group:focus-within {
    border-color: #2563eb;
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

.phone-input-group.input-error {
    border-color: #dc2626;
}

.country-prefix {
    background: #f3f4f6;
    padding: 10px 15px;
    color: #4b5563;
    font-weight: 600;
    font-size: 1rem;
    border-right: 1px solid #e5e7eb;
    white-space: nowrap;
}

.phone-field {
    border: none !important;
    flex: 1;
    padding: 10px !important;
    outline: none;
    border-radius: 0 !important;
}

.error-text {
    color: #dc2626;
    font-size: 0.8rem;
    margin-top: 4px;
    display: block;
}

.hint-text {
    color: #6b7280;
    font-size: 0.8rem;
    margin-top: 4px;
    display: block;
}
</file>

<file path="src/Styles/NavbarStyles.css">
.navbar {
  width: 100%;
  background-color: #ffffff;
  border-bottom: 1px solid #f0f0f0;
  position: sticky; /* Se queda pegado arriba */
  top: 0;
  z-index: 1000;
  height: 75px;
  display: flex;
  align-items: center;
  transition: box-shadow 0.3s ease;
}

.navbar-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
}

.nav-logo {
  display: flex;
  align-items: center;
  transition: transform 0.3s;
  margin-right: auto;
  z-index: 1002; /* Para que sobresalga en m√≥vil si es necesario */
}

.nav-logo:hover {
  transform: scale(1.05);
}

.logo-img {
  height: 45px;
  width: auto;
}

/* =========================================
   2. MEN√ö PRINCIPAL (ENLACES)
   ========================================= */
.nav-collapse {
  display: flex;
  align-items: center;
  gap: 30px;
}

.nav-menu {
  display: flex;
  gap: 25px;
}

.nav-item {
  text-decoration: none;
  color: #4b5563;
  font-size: 0.95rem;
  font-weight: 500;
  position: relative; 
  transition: color 0.3s ease;
}

.nav-item::after {
  content: '';
  position: absolute;
  width: 0;
  height: 2px;
  bottom: -4px;
  left: 0;
  background-color: #2563eb;
  transition: width 0.3s ease-in-out;
}

.nav-item:hover { color: #2563eb; }
.nav-item:hover::after { width: 100%; }


/* =========================================
   3. BOTONES DE LOGIN Y REGISTRO (CORREGIDOS)
   ========================================= */
.nav-auth {
  display: flex;
  align-items: center;
  gap: 15px; /* Espacio entre botones */
}

/* --- Estilos base compartidos (IMPORTANTE) --- */
.btn-login, .btn-register {
  /* Dimensiones fijas para evitar desalineaci√≥n */
  height: 40px !important; 
  width: 140px;
  
  /* Flexbox para centrar el texto perfectamente */
  display: flex;
  align-items: center;
  justify-content: center;
  
  /* Reset de estilos b√°sicos */
  margin: 0;
  padding: 0;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease;
  
  /* EL SECRETO: box-sizing hace que el borde est√© DENTRO de los 40px */
  box-sizing: border-box !important; 
}

/* --- Bot√≥n Iniciar Sesi√≥n --- */
.btn-login {
  background-color: transparent;
  color: #2563eb;
  /* Borde visible de 2px */
  border: 2px solid #e5e7eb; 
}

.btn-login:hover {
  background-color: #f0f9ff;
  border-color: #2563eb;
}

/* --- Bot√≥n Registrarse --- */
.btn-register {
  background-color: #2563eb;
  color: white;
  /* TRUCO: Le ponemos el mismo borde (2px) pero del color del fondo.
     As√≠ ocupa el mismo espacio f√≠sico que el bot√≥n de login. */
  border: 2px solid #2563eb; 
}

.btn-register:hover {
  background-color: #1d4ed8;
  border-color: #1d4ed8;
}


/* =========================================
   4. LOGICA DEL BOT√ìN SOS Y M√ìVIL
   ========================================= */

/* SOS: En escritorio se ve el bloque normal */
.sos-desktop-wrapper {
  display: block; 
}

/* SOS: En escritorio ocultamos el contenedor m√≥vil */
.nav-mobile-actions {
  display: none; 
  align-items: center;
  gap: 15px;
}

/* Hamburguesa: Oculta en escritorio */
.hamburger {
  display: none;
  cursor: pointer;
}

.bar {
  display: block;
  width: 25px;
  height: 3px;
  margin: 5px auto;
  transition: all 0.3s ease-in-out;
  background-color: #333; 
}

/* =========================================
   5. REGLAS PARA M√ìVIL (Max 768px)
   ========================================= */
@media screen and (max-width: 768px) {
    
    /* 1. Barra superior m√≥vil: Mostramos SOS y Hamburguesa */
    .nav-mobile-actions {
        display: flex;
        margin-left: auto; /* Empuja a la derecha */
        z-index: 1002;
    }

    .hamburger {
        display: block; 
    }

    /* 2. Ocultamos el SOS "duplicado" del men√∫ */
    .sos-desktop-wrapper {
        display: none;
    }

    /* 3. Men√∫ Desplegable (Estilo Caj√≥n) */
    .nav-collapse {
        position: fixed;
        left: -100%; /* Oculto a la izquierda */
        top: 75px; 
        flex-direction: column;
        background-color: #ffffff;
        width: 100%;
        height: calc(100vh - 75px); 
        text-align: center;
        transition: 0.3s ease-in-out;
        box-shadow: 0 10px 10px rgba(0,0,0,0.1);
        padding-top: 40px;
        gap: 30px; 
    }

    .nav-collapse.active {
        left: 0; /* Entra en escena */
    }

    .nav-menu {
        flex-direction: column;
        gap: 25px;
        width: 100%;
    }

    .nav-auth {
        flex-direction: column;
        gap: 20px;
        width: 100%;
        margin-top: 20px;
    }
    
    .nav-item {
        font-size: 1.1rem;
        display: block;
        width: 100%;
        padding: 10px 0;
    }

    /* Animaci√≥n de Hamburguesa a X */
    .hamburger.active .bar:nth-child(2) { opacity: 0; }
    .hamburger.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
    .hamburger.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

    /* Ajuste fino del bot√≥n SOS en la barra superior m√≥vil */
    .sos-mobile-wrapper .sos-button-final {
        padding: 0 12px;
        height: 36px;
        font-size: 0.8rem;
    }
}
</file>

<file path="src/Styles/SosButtonStyles.css">
.sos-button-final {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 40px; 
  box-sizing: border-box;
  background-color: #dc2626;
  color: white;
  border: none;
  border-radius: 50px;
  padding: 0 20px;
  gap: 8px;
  font-weight: 800;
  font-size: 0.9rem;
  letter-spacing: 0.5px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(220, 38, 38, 0.4);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  animation: pulse-emergency 2s infinite;
  z-index: 1000;
}

.sos-button-final:hover {
  background-color: #b91c1c;
  transform: scale(1.05);
  box-shadow: 0 6px 15px rgba(220, 38, 38, 0.5);
}

.sos-button-final:disabled {
  background-color: #ef4444;
  cursor: not-allowed;
  animation: none;
  opacity: 0.7;
}

@keyframes pulse-emergency {
  0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); }
  100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
}

.sos-modal-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.75); 
  backdrop-filter: blur(5px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.sos-modal-content {
  position: relative;
  background: white;
  padding: 30px;
  border-radius: 20px;
  width: 90%;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  border-top: 10px solid #dc2626;
  animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes popIn {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.sos-modal-close-icon {
    position: absolute;
    top: 15px;
    right: 15px;
    background: transparent;
    border: none;
    color: #9ca3af;
    cursor: pointer;
    padding: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s;
}

.sos-modal-close-icon:hover {
    color: #111827;
}

.sos-modal-header-icon {
  margin-bottom: 10px;
  display: flex;
  justify-content: center;
}

.sos-modal-content h3 {
    margin: 10px 0;
    color: #111827;
    font-weight: 800;
}

.sos-info-text {
  color: #4b5563;
  margin-bottom: 20px;
  font-size: 0.95rem;
  line-height: 1.5;
}

.phone-display-box {
  background: #f3f4f6;
  border: 2px dashed #d1d5db;
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 25px;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.phone-display-box:hover {
    background: #e5e7eb;
    border-color: #9ca3af;
    transform: translateY(-2px);
}

.phone-display-box:active {
    transform: translateY(0);
}

.phone-number {
  font-family: monospace;
  font-size: 1.6rem;
  font-weight: 800;
  color: #b91c1c;
  display: block;
}

.copy-indicator {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 0.75rem;
    color: #6b7280;
    margin-top: 5px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.sos-modal-actions-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.btn-whatsapp-action,
.btn-call-action,
.btn-cancel-action {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  transition: filter 0.2s, transform 0.1s;
}

.btn-whatsapp-action {
  background-color: #25D366; 
  color: white;
  box-shadow: 0 4px 6px -1px rgba(37, 211, 102, 0.3);
}

.btn-call-action {
  background-color: #2563eb; 
  color: white;
  box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3);
}

.btn-cancel-action {
  background-color: transparent;
  color: #6b7280;
  border: 1px solid #d1d5db;
}

.btn-whatsapp-action:hover, 
.btn-call-action:hover {
  filter: brightness(0.9);
  transform: translateY(-1px);
}

.btn-cancel-action:hover {
  background-color: #f3f4f6;
  color: #374151;
}
</file>

<file path="package.json">
{
  "name": "web-monitoreo",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "axios": "^1.13.3",
    "lucide-react": "^0.562.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-icons": "^5.5.0",
    "react-router-dom": "^7.12.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "vite": "^7.2.4"
  }
}
</file>

<file path="src/components/Admin/AdminStats.jsx">
import React, { useEffect, useState } from 'react';
import { Users, Activity, PieChart } from 'lucide-react';
import { getStats } from '../../services/AdminService';

const AdminStats = () => {
  const [stats, setStats] = useState({
    total: 0,
    admins: 0,
    patients: 0,
    specialists: 0,
    active: 0
  });

  useEffect(() => {
    const loadStats = async () => {
      const data = await getStats();
      
      if (data && data.roles) {
        const adminCount = data.roles.find(r => r.role?.toLowerCase() === 'admin')?.count || 0;
        const specialistCount = data.roles.find(r => r.role?.toLowerCase() === 'specialist')?.count || 0;
        const patientCount = data.roles.find(r => 
          r.role?.toLowerCase() === 'user' || 
          r.role?.toLowerCase() === 'patient'
        )?.count || 0;

        setStats({
          total: data.total || 0,
          active: data.active || 0,
          admins: adminCount,
          patients: patientCount,
          specialists: specialistCount
        });
      }
    };
    loadStats();
  }, []);

  return (
    <div className="stats-grid">
      <div className="health-card-admin">
        <div className="stat-icon icon-blue">
          <Users size={28} />
        </div>
        <div className="stat-info">
          <p className="stats-label">Total Usuarios</p>
          <span className="stats-value">{stats.total}</span>
        </div>
      </div>

      <div className="health-card-admin">
        <div className="stat-icon icon-green">
          <Activity size={28} />
        </div>
        <div className="stat-info">
          <p className="stats-label">Activos (30d)</p>
          <span className="stats-value">{stats.active}</span>
        </div>
      </div>

      <div className="health-card-admin">
        <div className="stat-icon icon-purple">
          <PieChart size={28} />
        </div>
        
        <div className="stat-info-mixed">
          <div className="role-item">
            <div className="role-label-group">
              <span className="role-dot dot-patient"></span>
              <span className="mini-label">Pacientes</span>
            </div>
            <span className="mini-value">{stats.patients}</span>
          </div>

          <div className="role-item">
            <div className="role-label-group">
              <span className="role-dot dot-specialist"></span>
              <span className="mini-label">Especialistas</span>
            </div>
            <span className="mini-value">{stats.specialists}</span>
          </div>

          <div className="role-item">
            <div className="role-label-group">
              <span className="role-dot dot-admin"></span>
              <span className="mini-label">Admins</span>
            </div>
            <span className="mini-value">{stats.admins}</span>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AdminStats;
</file>

<file path="src/components/Admin/UserRow.jsx">
import React from 'react';
import { Key, Trash2, AlertTriangle } from 'lucide-react';
import { resetUserPassword, deleteUser } from '../../services/AdminService';

const UserRow = ({ user, onUpdate }) => {
  if (!user) return null;

  const getRoleLabel = (role) => {
    switch (role?.toLowerCase()) {
      case 'admin': return 'Administrador';
      case 'specialist': return 'Especialista';
      case 'patient': return 'Paciente';
      default: return 'Usuario';
    }
  };

  const getRoleClass = (role) => {
    const r = role?.toLowerCase();
    if (r === 'admin') return 'status-admin';
    if (r === 'specialist') return 'status-specialist';
    return 'status-user';
  };

  const handleReset = async () => {
    if (!user.email) return alert("Este usuario no tiene correo registrado.");
    
    const confirmed = window.confirm(`¬øEnviar enlace de recuperaci√≥n a ${user.email}?`);
    if (confirmed) {
      const { success, error } = await resetUserPassword(user.email);
      if (success) alert("Correo de recuperaci√≥n enviado con √©xito.");
      else alert("Error: " + error);
    }
  };

  const handleDelete = async () => {
    const isDeletionRequested = user.status === 'delete_requested';
    const message = isDeletionRequested
      ? `ATENCI√ìN: El paciente ha solicitado ELIMINAR sus datos. ¬øConfirmas la eliminaci√≥n definitiva de ${user.first_names}?`
      : `¬øEst√°s seguro de que deseas eliminar a ${user.first_names}? Esta acci√≥n es irreversible.`;

    if (window.confirm(message)) {
      const { success, error } = await deleteUser(user.id);
      if (success) {
        alert("Usuario eliminado correctamente.");
        if (onUpdate) onUpdate(); 
      } else {
        alert("Error al eliminar: " + error);
      }
    }
  };

  return (
    <tr className={`admin-row ${user.status === 'delete_requested' ? 'row-delete-requested' : ''}`}>
      <td>{user.rut || '---'}</td>

      <td className="user-name">
        {user.first_names} {user.last_names}
        
        {user.status === 'delete_requested' && user.delete_requested_at && (
          <div className="deletion-alert">
             <AlertTriangle size={14} />
             Solicit√≥ borrar: {new Date(user.delete_requested_at).toLocaleDateString()}
          </div>
        )}
      </td>

      <td>{user.email}</td>

      <td>
        <span className={`status-badge ${getRoleClass(user.role)}`}>
          {getRoleLabel(user.role)}
        </span>
      </td>

      <td>
        <span className={`status-badge status-${user.status || 'active'}`}>
          {user.status === 'delete_requested' ? 'Por Borrar' : 'Activo'}
        </span>
      </td>

      <td>
        <div className="actions-container">
          <button 
            onClick={handleReset} 
            className="btn-icon btn-key" 
            title="Restablecer Contrase√±a"
          >
            <Key size={18} />
          </button>
          
          <button 
            onClick={handleDelete} 
            className={`btn-icon btn-trash ${user.status === 'delete_requested' ? 'btn-trash-urgent' : ''}`}
            title="Eliminar permanentemente"
          >
            <Trash2 size={18} />
          </button>
        </div>
      </td>
    </tr>
  );
};

export default UserRow;
</file>

<file path="src/components/Admin/UserTable.jsx">
import React, { useState, useEffect } from 'react';
import { Search, AlertTriangle, RefreshCw } from 'lucide-react';
import { getUsers } from '../../services/AdminService';
import UserRow from './UserRow';

const UserTable = () => {
  const [users, setUsers] = useState([]);
  const [searchTerm, setSearchTerm] = useState("");
  const [loading, setLoading] = useState(true);
  const [showDeleteOnly, setShowDeleteOnly] = useState(false);

  const fetchUsers = async () => {
    setLoading(true);
    const data = await getUsers();
    setUsers(Array.isArray(data) ? data : []);
    setLoading(false);
  };

  useEffect(() => {
    fetchUsers();
  }, []);

  const roleMap = {
    patient: 'paciente',
    specialist: 'especialista',
    admin: 'administrador'
  };

  const filteredUsers = users.filter(user => {
    if (showDeleteOnly && user.status !== 'delete_requested') {
      return false;
    }

    const roleKey = (user.role || "").toLowerCase();
    const roleSpanish = roleMap[roleKey] || roleKey;

    const fullName = `${user.first_names || ''} ${user.last_names || ''}`.toLowerCase();
    const rut = (user.rut || "").toLowerCase();
    const email = (user.email || "").toLowerCase();
    const term = searchTerm.toLowerCase();

    return (
      fullName.includes(term) || 
      rut.includes(term) || 
      email.includes(term) || 
      roleSpanish.includes(term)
    );
  });

  if (loading) return <div className="loading-text">Cargando usuarios...</div>;

  return (
    <div className="admin-table-container">
      <div className="table-controls">
        <div className="controls-wrapper">
            
            <div className="search-container">
                <Search className="search-icon" size={18} />
                <input
                    type="text"
                    placeholder="Buscar por nombre, RUT, rol..."
                    className="search-input"
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                />
            </div>

            <button 
                onClick={() => setShowDeleteOnly(!showDeleteOnly)}
                className={`btn-filter ${showDeleteOnly ? 'active' : ''}`}
            >
                <AlertTriangle size={18} />
                {showDeleteOnly ? 'Mostrando Solicitudes' : 'Ver Solicitudes de Borrado'}
            </button>

            <button 
                onClick={fetchUsers}
                className="btn-icon btn-reload"
                title="Recargar lista"
            >
                <RefreshCw size={18} />
            </button>
        </div>
      </div>

      <div className="table-scroll-wrapper">
        <table className="admin-table">
          <thead>
            <tr>
              <th>RUT</th>
              <th>Nombre Completo</th>
              <th>Email</th>
              <th>Rol</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            {filteredUsers.length > 0 ? (
              filteredUsers.map((user) => (
                <UserRow 
                  key={user.id} 
                  user={user} 
                  onUpdate={fetchUsers} 
                />
              ))
            ) : (
              <tr>
                <td colSpan="6" className="no-data-cell">
                  {showDeleteOnly 
                    ? "No hay solicitudes de eliminaci√≥n pendientes." 
                    : searchTerm 
                        ? `No se encontraron resultados para "${searchTerm}"`
                        : "No hay usuarios registrados."
                  }
                </td>
              </tr>
            )}
          </tbody>
        </table>
      </div>
    </div>
  );
};

export default UserTable;
</file>

<file path="src/components/Chat/ChatWidget.jsx">
import React, { useState, useEffect, useRef } from 'react';
import { HeartPulse, X, Send, Stethoscope, Activity, Loader2 } from 'lucide-react';
import axios from 'axios'; 
import '../../Styles/ChatWidgetStyles.css';

const ChatWidget = ({ userId }) => {
  if (!userId) return null;

  const [isOpen, setIsOpen] = useState(false);
  const [messages, setMessages] = useState([]);
  const [input, setInput] = useState('');
  const [loading, setLoading] = useState(false);
  const scrollRef = useRef(null);

  const API_URL = import.meta.env.VITE_AI_MS_URL || 'http://localhost:3002';

  useEffect(() => {
    setMessages([{ 
      role: 'assistant', 
      content: 'Hola. Soy el Dr. Chapat√≠n, tu asistente m√©dico virtual. ¬øEn qu√© puedo orientarte con tu salud hoy?' 
    }]);
    setIsOpen(false);
  }, [userId]);

  useEffect(() => {
    scrollRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages, loading]);

  const sendMessage = async (e) => {
    e.preventDefault();
    if (!input.trim() || loading) return;

    const currentInput = input;
    setMessages(prev => [...prev, { role: 'user', content: currentInput }]);
    setInput('');
    setLoading(true);

    try {
      const response = await axios.post(`${API_URL}/api/ai/send`, { 
        userId, 
        message: currentInput 
      }, {
        headers: { 'Content-Type': 'application/json' }
      });

      setMessages(prev => [...prev, { role: 'assistant', content: response.data.response }]);
    } catch (error) {
      setMessages(prev => [...prev, { role: 'assistant', content: 'Lo siento, tengo dificultades t√©cnicas. Intenta m√°s tarde.' }]);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="chat-container">
      <button 
        className={`chat-button ${isOpen ? 'open' : ''}`} 
        onClick={() => setIsOpen(!isOpen)}
        aria-label={isOpen ? "Cerrar asistente" : "Abrir Asistente M√©dico Virtual"}
      >
        {isOpen ? <X size={28} /> : <HeartPulse size={32} />}
        {!isOpen && <span className="notification-dot"></span>}
      </button>

      {isOpen && (
        <div className="chat-window">
          <div className="chat-header">
            <div className="header-info">
              <div className="bot-avatar-container">
                <Stethoscope size={26} color="#fff" strokeWidth={2} />
              </div>
              <div>
                <p className="bot-name">Dr. Chapat√≠n</p>
                <div className="online-indicator">
                  <Activity size={12} style={{ marginRight: 4 }} />
                  Asistente M√©dico IA
                </div>
              </div>
            </div>
          </div>

          <div className="chat-messages">
            {messages.map((m, i) => (
              <div key={i} className={`message ${m.role === 'user' ? 'user' : 'ai'}`}>
                {m.content}
              </div>
            ))}
            
            {loading && (
              <div className="message ai loading-container">
                <Loader2 className="animate-spin" size={18} />
                <span>Analizando...</span>
              </div>
            )}
            <div ref={scrollRef} />
          </div>

          <form className="chat-input-area" onSubmit={sendMessage}>
            <input 
              className="chat-input"
              value={input}
              onChange={(e) => setInput(e.target.value)}
              placeholder="Describe tus s√≠ntomas..."
              disabled={loading}
              autoFocus
            />
            <button 
              className="send-button" 
              type="submit" 
              disabled={loading || !input.trim()}
            >
              <Send size={18} />
            </button>
          </form>
        </div>
      )}
    </div>
  );
};

export default ChatWidget;
</file>

<file path="src/components/Dashboard/GlucoseCard.jsx">
import { FaTint } from "react-icons/fa";
import { formatDateLong } from "../../utils/formatDate";

export default function GlucoseCard({ glucose, date }) {
  let level = "normal";

  if (glucose >= 200) level = "danger";
  else if (glucose >= 141) level = "warning";

  return (
    <div className={`card glucose-card ${level}`}>
      <div className="card-header">
        <div className="icon-circle glucose-icon">
          <FaTint />
          <span className="droplet"></span>
        </div>
        <span className={`status ${level}`}>
          {level === "normal" && "Normal"}
          {level === "warning" && "Alerta"}
          {level === "danger" && "Peligro"}
        </span>
      </div>

      <h3>Glucosa</h3>
      <p className="value">{glucose} mg/dL</p>

      <span className="date">{formatDateLong(date)}</span>
    </div>
  );
}
</file>

<file path="src/components/Dashboard/PressureCard.jsx">
import { FaHeartbeat } from "react-icons/fa";
import { formatDateLong } from "../../utils/formatDate";

export default function PressureCard({ systolic, diastolic, date }) {
  let level = "normal";

  if (systolic >= 140 || diastolic >= 90) level = "danger";
  else if (systolic >= 130 || diastolic >= 85) level = "warning";

  return (
    <div className={`card pressure-card ${level}`}>
      <div className="card-header">
        <div className="icon-circle pressure-icon">
          <FaHeartbeat />
        </div>
        <span className={`status ${level}`}>
          {level === "normal" && "Normal"}
          {level === "warning" && "Alerta"}
          {level === "danger" && "Peligro"}
        </span>
      </div>

      <h3>Presi√≥n Arterial</h3>
      <p className="value">{systolic}/{diastolic} mmHg</p>

      <span className="date">{formatDateLong(date)}</span>
    </div>
  );
}
</file>

<file path="src/components/SosButton.jsx">
import React, { useState } from "react";
import axios from 'axios';
import { AlertTriangle, Phone, MessageCircle, X, Copy, Check, Siren } from "lucide-react";
import "../Styles/SosButtonStyles.css";

const SosButton = () => {
  const [showModal, setShowModal] = useState(false);
  const [contactPhone, setContactPhone] = useState(null);
  const [loading, setLoading] = useState(false);
  const [copied, setCopied] = useState(false);

  const USER_ID = localStorage.getItem("user_id");

  const handleSOSClick = async () => {
    if (!USER_ID) {
      alert("Error: Debe iniciar sesi√≥n para utilizar el servicio de emergencia.");
      return;
    }

    setLoading(true);
    try {
      const API_SOS_URL = import.meta.env.VITE_API_SOS_URL || "http://localhost:3000";

      const response = await axios.get(
        `${API_SOS_URL}/api/sos/emergency-contact/${USER_ID}`,
        { headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` } }
      );

      const data = response.data;

      if (data.success && data.phone) {
        setContactPhone(data.phone);
        setShowModal(true);
        setCopied(false);
      } else {
        alert(data.message || "No se encontr√≥ un contacto de emergencia asociado.");
      }
    } catch (err) {
      console.error("Error conectando al servicio SOS:", err);
      alert("Error de conexi√≥n: No se pudo contactar con el servicio de emergencia.");
    } finally {
      setLoading(false);
    }
  };

  const handleCall = () => {
    if (contactPhone) window.location.href = `tel:${contactPhone}`;
  };

  const handleWhatsApp = () => {
    if (contactPhone) {
      const cleanNum = contactPhone.replace(/\D/g, '');
      const message = encodeURIComponent("¬°EMERGENCIA! Necesito ayuda urgente.");
      window.open(`https://wa.me/${cleanNum}?text=${message}`, "_blank");
    }
  };

  const handleCopyNumber = () => {
    if (contactPhone) {
      navigator.clipboard.writeText(contactPhone);
      setCopied(true);
      setTimeout(() => setCopied(false), 2000);
    }
  };

  return (
    <>
      <button
        className={`sos-button-final ${loading ? 'loading' : ''}`}
        onClick={handleSOSClick}
        disabled={loading}
        aria-label="Emergencia SOS"
      >
        <Siren size={20} />
        <span>{loading ? "..." : "SOS"}</span>
      </button>

      {showModal && (
        <div className="sos-modal-overlay">
          <div className="sos-modal-content">
            
            <button 
                className="sos-modal-close-icon"
                onClick={() => setShowModal(false)}
            >
                <X size={24} />
            </button>

            <div className="sos-modal-header-icon">
                <AlertTriangle size={48} color="#dc2626" />
            </div>
            
            <h3>Ayuda de Emergencia</h3>
            <p className="sos-info-text">
              Selecciona una opci√≥n para contactar a tu enlace de confianza:
            </p>

            <div 
                className="phone-display-box" 
                onClick={handleCopyNumber}
                title="Haz clic para copiar"
            >
              <span className="phone-number">{contactPhone}</span>
              <div className="copy-indicator">
                {copied ? <Check size={14} /> : <Copy size={14} />}
                <span>{copied ? "Copiado" : "Copiar"}</span>
              </div>
            </div>

            <div className="sos-modal-actions-list">
              <button className="btn-whatsapp-action" onClick={handleWhatsApp}>
                <MessageCircle size={20} />
                Enviar WhatsApp
              </button>

              <button className="btn-call-action" onClick={handleCall}>
                <Phone size={20} />
                Llamar por Tel√©fono
              </button>

              <button
                className="btn-cancel-action"
                onClick={() => setShowModal(false)}
              >
                Cancelar
              </button>
            </div>
          </div>
        </div>
      )}
    </>
  );
};

export default SosButton;
</file>

<file path="src/pages/AdminPage.jsx">
import React, { useState } from 'react';
import { UserPlus } from 'lucide-react';
import AdminStats from '../components/Admin/AdminStats';
import UserTable from '../components/Admin/UserTable';
import RegisterSpecialistModal from '../components/Admin/RegisterSpecialistModal';
import '../Styles/AdminStyles.css';

const AdminPage = () => {
  const [showModal, setShowModal] = useState(false);
  const [refreshKey, setRefreshKey] = useState(0);

  const handleSuccess = () => {
    setRefreshKey(prev => prev + 1);
  };

  return (
    <div className="admin-page-wrapper">
      <header className="admin-header">
        <div className="header-content">
            <div>
                <h1>Panel de Control</h1>
                <p>Gesti√≥n de usuarios y pacientes.</p>
            </div>
            
            <button 
                className="btn-create-specialist" 
                onClick={() => setShowModal(true)}
            >
                <UserPlus size={20} />
                Nuevo Especialista
            </button>
        </div>
      </header>
      
      <AdminStats key={`stats-${refreshKey}`} />
      
      <h3 className="section-title">Lista de Usuarios</h3>
      
      <UserTable key={`table-${refreshKey}`} />

      {showModal && (
        <RegisterSpecialistModal 
            onClose={() => setShowModal(false)} 
            onSuccess={handleSuccess} 
        />
      )}
    </div>
  );
};

export default AdminPage;
</file>

<file path="src/services/AdminService.js">
import axios from 'axios';

const API_ADMIN_URL = import.meta.env.VITE_API_ADMIN_URL || 'http://localhost:4000/api/admin';

const getConfig = () => ({
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${localStorage.getItem('token')}`
  }
});

export const getStats = async () => {
  try {
    const response = await axios.get(`${API_ADMIN_URL}/stats`, getConfig());
    return response.data;
  } catch (error) {
    return null;
  }
};

export const getUsers = async () => {
  try {
    const response = await axios.get(`${API_ADMIN_URL}/users`, getConfig());
    return response.data;
  } catch (error) {
    return [];
  }
};

export const createSpecialist = async (userData) => {
  try {
    await axios.post(`${API_ADMIN_URL}/create-specialist`, userData, getConfig());
    return { success: true };
  } catch (error) {
    return { success: false, error: error.response?.data?.error || error.message };
  }
};

export const resetUserPassword = async (email) => {
  try {
    await axios.post(`${API_ADMIN_URL}/send-reset-email`, { email }, getConfig());
    return { success: true };
  } catch (error) {
    return { success: false, error: error.response?.data?.error || error.message };
  }
};

export const updatePasswordFinal = async (email, newPassword) => {
  try {
    await axios.post(`${API_ADMIN_URL}/update-password`, { email, newPassword }, getConfig());
    return { success: true };
  } catch (error) {
    return { success: false, error: error.response?.data?.error || error.message };
  }
};

export const deleteUser = async (userId) => {
  try {
    await axios.delete(`${API_ADMIN_URL}/users/${userId}`, getConfig());
    return { success: true };
  } catch (error) {
    return { success: false, error: error.response?.data?.error || error.message };
  }
};

export const requestAccountDeletion = async (userId) => {
  try {
    await axios.patch(`${API_ADMIN_URL}/users/request-deletion/${userId}`, {}, getConfig());
    return { success: true };
  } catch (error) {
    return { success: false, error: error.response?.data?.error || error.message };
  }
};

export const verifyAdminStatus = async (email) => {
  try {
    const response = await axios.post(`${API_ADMIN_URL}/verify-admin`, { email: email.toLowerCase() }, getConfig());
    return response.data.isAdmin;
  } catch (error) {
    return false;
  }
};
</file>

<file path="src/Styles/AdminStyles.css">
.admin-page-wrapper {
  padding: 40px;
  max-width: 1200px;
  margin: 0 auto;
  font-family: 'Segoe UI', sans-serif;
}

.admin-header {
  margin-bottom: 30px;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  flex-wrap: wrap;
  gap: 20px;
}

.admin-header h1 {
  color: #1e3a8a;
  font-size: 2rem;
  margin: 0 0 5px 0;
}

.admin-header p {
  color: #64748b;
  margin: 0;
}

.section-title {
  color: #1e293b;
  margin-bottom: 15px;
  font-size: 1.5rem;
}

.btn-create-specialist {
  background-color: #2563eb;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.2s;
  box-shadow: 0 4px 6px rgba(37, 99, 235, 0.2);
}

.btn-create-specialist:hover {
  background-color: #1d4ed8;
  transform: translateY(-2px);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.health-card-admin {
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  border-top: 6px solid #1e40af;
  border-left: 1px solid #e2e8f0;
  border-right: 1px solid #e2e8f0;
  border-bottom: 1px solid #e2e8f0;
  display: flex;
  align-items: center;
  gap: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: default; 
}

.health-card-admin:hover {
  transform: translateY(-5px);
  background-color: #f8fafc;
  box-shadow: 0 15px 30px -5px rgba(30, 64, 175, 0.15);
  border-color: #cbd5e1;
}

.stat-icon {
  padding: 12px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 50px;
}

.icon-blue { background: #eef2ff; color: #1e40af; }
.icon-green { background: #f0fdf4; color: #16a34a; }
.icon-orange { background: #fff7ed; color: #f97316; }
.icon-purple { background: #f5f3ff; color: #7c3aed; }
.icon-indigo { background: #e0e7ff; color: #4338ca; }

.stat-info, .stat-info-mixed {
  flex: 1;
}

.stat-info-mixed {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.role-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.role-label-group {
  display: flex;
  align-items: center;
  gap: 8px;
}

.role-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
}

.dot-patient { background-color: #16a34a; }
.dot-specialist { background-color: #1e40af; }
.dot-admin { background-color: #7e22ce; }

.stats-label {
  margin: 0;
  color: #64748b;
  font-size: 0.85rem;
  text-transform: uppercase;
  font-weight: 700;
  letter-spacing: 0.5px;
}

.stats-value {
  font-size: 1.8rem;
  font-weight: 900;
  color: #1e293b;
  margin: 0;
  display: block;
}

.mixed-value {
  font-weight: 800;
  color: #1e293b;
  font-size: 1.1rem;
}

.admin-table-container {
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  border-top: 6px solid #1e40af;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.table-controls {
  padding: 20px;
  background-color: #ffffff;
  border-bottom: 1px solid #f1f5f9;
}

.controls-wrapper {
  display: flex; 
  gap: 15px; 
  flex-wrap: wrap; 
  align-items: center;
}

.search-container {
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  min-width: 250px;
}

.search-icon {
  position: absolute;
  left: 14px;
  color: #94a3b8;
  pointer-events: none;
}

.search-input {
  width: 100%;
  padding: 12px 16px 12px 42px;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  font-size: 0.9rem;
  background-color: #f8fafc;
  transition: all 0.2s ease;
  outline: none;
}

.search-input:focus {
  background-color: #ffffff;
  border-color: #1e40af;
  box-shadow: 0 0 0 4px rgba(30, 64, 175, 0.1);
}

.btn-filter {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  background-color: white;
  color: #64748b;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;
}

.btn-filter.active {
  border: 1px solid #ef4444;
  background-color: #fee2e2;
  color: #b91c1c;
}

.btn-reload {
  height: 42px; 
  width: 42px;
}

.table-scroll-wrapper {
  max-height: 500px; 
  overflow-y: auto;
  overflow-x: auto; 
}

.admin-table {
  width: 100%;
  border-collapse: collapse;
  min-width: 800px;
}

.admin-table th {
  background-color: #f8fafc;
  color: #1e40af;
  padding: 15px;
  font-weight: bold;
  border-bottom: 3px solid #cbd5e1;
  text-transform: uppercase;
  font-size: 0.8rem;
  text-align: left;
  position: sticky;
  top: 0;
  z-index: 10;
}

.admin-table td {
  padding: 15px;
  border-bottom: 1px solid #cbd5e1;
  color: #334155;
  font-size: 0.95rem;
  vertical-align: middle;
}

.admin-row:nth-child(even) {
  background-color: #f1f5f9;
}

.admin-row:hover {
  background-color: #e2e8f0 !important;
}

.row-delete-requested {
  background-color: #fff1f2 !important;
}

.user-name {
  font-weight: bold;
  color: #1e293b;
}

.deletion-alert {
  font-size: 0.75rem; 
  color: #dc2626; 
  font-weight: bold; 
  margin-top: 4px;
  display: flex;
  align-items: center;
  gap: 4px;
}

.status-badge {
  padding: 6px 14px;
  border-radius: 99px;
  font-size: 0.75rem;
  font-weight: 800;
  text-transform: uppercase;
  display: inline-block;
  white-space: nowrap;
}

.status-active, 
.status-user, 
.status-patient { 
  background: #dcfce7; 
  color: #166534; 
}

.status-specialist { 
  background: #dbeafe; 
  color: #1e40af; 
}

.status-admin { 
  background: #f3e8ff; 
  color: #7e22ce; 
  border: 1px solid #d8b4fe;
}

.status-delete_requested { 
  background: #fee2e2; 
  color: #991b1b; 
  border: 1px solid #f87171;
  animation: pulse-red 2s infinite;
}

@keyframes pulse-red {
  0% { box-shadow: 0 0 0 0 rgba(248, 113, 113, 0.4); }
  70% { box-shadow: 0 0 0 10px rgba(248, 113, 113, 0); }
  100% { box-shadow: 0 0 0 0 rgba(248, 113, 113, 0); }
}

.actions-container {
  display: flex;
  gap: 8px;
}

.btn-icon {
  border: none;
  background: #f1f5f9;
  cursor: pointer;
  padding: 8px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  color: #64748b;
  min-width: 36px;
  min-height: 36px;
}

.btn-icon:hover {
  transform: translateY(-2px);
}

.btn-key:hover { background: #dbeafe; color: #1e40af; }
.btn-trash:hover { background: #fee2e2; color: #ef4444; }
.btn-trash-urgent { color: #ef4444; background: #fee2e2; }

.modal-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  padding: 20px;
  backdrop-filter: blur(4px);
}

.modal-content {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  width: 100%;
  max-width: 500px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.modal-header h3 {
  margin: 0;
  color: #1e3a8a;
  display: flex;
  align-items: center;
  gap: 10px;
}

.btn-close-modal {
  background: none;
  border: none;
  cursor: pointer;
  color: #64748b;
}

.form-grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

.input-group-reset {
  margin-bottom: 15px;
}

.input-group-reset label {
  display: block;
  margin-bottom: 5px;
  color: #334155;
  font-weight: 600;
  font-size: 0.9rem;
}

.input-icon-wrapper {
  position: relative;
}

.input-icon {
  position: absolute;
  top: 11px;
  left: 10px;
  color: #94a3b8;
}

.input-reset {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #cbd5e1;
  border-radius: 8px;
  font-size: 0.95rem;
  transition: all 0.2s;
  box-sizing: border-box;
}

.input-with-icon {
  padding-left: 35px;
}

.input-reset:focus {
  border-color: #2563eb;
  outline: none;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 25px;
  padding-top: 15px;
  border-top: 1px solid #f1f5f9;
}

.btn-cancel {
  padding: 10px 18px;
  border: 1px solid #e2e8f0;
  background: white;
  color: #64748b;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;
}

.btn-cancel:hover {
  background: #f8fafc;
  color: #1e293b;
}

.btn-confirm {
  padding: 10px 18px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;
}

.btn-confirm:hover {
  background: #1d4ed8;
}

.btn-confirm:disabled {
  background: #93c5fd;
  cursor: not-allowed;
}

.no-data-cell {
  text-align: center; 
  padding: 30px; 
  color: #64748b;
}

@media (max-width: 768px) {
  .admin-page-wrapper {
    padding: 15px;
  }
  
  .header-content {
    flex-direction: column;
    align-items: stretch;
  }
  
  .btn-create-specialist {
    justify-content: center;
  }

  .admin-table-container {
    max-width: 100%; 
  }
  
  .table-scroll-wrapper {
    max-height: 60vh;
  }
} 

.input-error-border {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 1px rgba(239, 68, 68, 0.1);
}

.error-msg {
  color: #ef4444;
  font-size: 0.8rem;
  margin-top: 5px;
  display: block;
  font-weight: 600;
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to { opacity: 1; transform: translateY(0); }
}
</file>

<file path="src/Styles/homeStyles.css">
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, sans-serif;
  background-color: #f4f8ff;
  overflow-x: hidden; /* Evita scroll lateral */
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 5%;
  background: #fff;
  border-bottom: 2px solid #2563eb;
  position: sticky;
  top: 0;
  z-index: 1000;
}

.logo {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #2563eb;
  font-weight: bold;
}

.logo img { width: 36px; }

/* 3. BOTONES GENERALES */
button {
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  font-weight: 500;
  transition: 0.3s;
}

.btn-primary { background: #2563eb; color: white; }
.btn-primary:hover { background: #1d4ed8; }
.btn-outline { background: transparent; border: 1px solid #2563eb; color: #2563eb; }
.btn-white { background: white; color: #2563eb; font-weight: bold; }

.big {
  padding: 12px 30px;
  font-size: 1rem;
  width: fit-content; /* */
}

/* 4. CARRUSEL Y HERO (OPTIMIZADO) */
.hero-modern-container {
  position: relative;
  background: #f4f8ff;
  width: 100%;
  min-height: 500px; /* Quitamos max-height para evitar corte en m√≥vil */
  display: flex;
  flex-direction: column;
}

.hero-modern {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 40px;
  padding: 60px 10%;
  width: 100%;
  flex: 1;
}

.hero-text {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 20px;
  z-index: 2;
}

.badge {
  background: #e0ecff;
  color: #2563eb;
  padding: 6px 16px;
  border-radius: 20px;
  font-size: 0.8rem;
  width: fit-content;
}

.hero-text h1 {
  font-size: 2.5rem;
  color: #1e293b;
  line-height: 1.2;
}

.hero-text p {
  font-size: 1.1rem;
  color: #475569;
  line-height: 1.6;
  max-width: 500px;
}

.hero-image {
  flex: 1;
  display: flex;
  justify-content: center;
}

.hero-image img {
  width: 100%;
  max-width: 500px;
  height: auto;
  aspect-ratio: 16/10;
  object-fit: cover;
  border-radius: 22px;
  box-shadow: 0 20px 40px rgba(37, 99, 235, 0.15);
}

/* 5. CONTROLES DEL CARRUSEL */
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: white;
  color: #2563eb;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  z-index: 10;
}

.left { left: 20px; }
.right { right: 20px; }

.carousel-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  padding: 20px 0;
}

.dot {
  width: 10px;
  height: 10px;
  background: #cbd5e1;
  border-radius: 50%;
  cursor: pointer;
}

.dot.active {
  background: #2563eb;
  width: 25px; /* Estilo p√≠ldora */
  border-radius: 10px;
}

/* 6. FEATURES */
.features {
  background: white;
  padding: 80px 10%;
  text-align: center;
}

.features-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 30px;
  margin-top: 40px;
}

.feature-card {
  padding: 30px;
  border: 1px solid #e0ecff;
  border-radius: 16px;
  transition: 0.3s;
}

.feature-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }

.icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
}

.icon.blue { background: #e0ecff; color: #2563eb; }
.icon.red { background: #fde2e2; color: #dc2626; }

/* 7. RESPONSIVE (CORRECCIONES) */
@media (max-width: 1024px) {
  .hero-modern { gap: 20px; padding: 40px 5%; }
  .hero-text h1 { font-size: 2rem; }
}

@media (max-width: 768px) {
  .hero-modern {
    flex-direction: column; /* Apila imagen y texto */
    text-align: center;
    padding-top: 30px;
  }

  .hero-text {
    align-items: center; /* Centra badge y bot√≥n */
    order: 1; /* Texto arriba */
  }

  .hero-image { order: 2; width: 100%; }
  
  .carousel-arrow { display: none; } /* Evita tapar contenido en m√≥vil */
  
  .hero-text .btn-primary.big { align-self: center; } /* Centra bot√≥n */
}

@media (max-width: 480px) {
  .hero-text h1 { font-size: 1.8rem; }
  .hero-text p { font-size: 1rem; }
  .header { padding: 10px 15px; }
  .header-buttons { display: none; } /* Ocultar botones en m√≥vil extremo para espacio */
}

/* ANIMACIONES */
.fade-in { animation: fadeIn 0.8s ease-in-out; }
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

html, body {
  height: 100%;
  margin: 0;
}

#root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

main, .hero-modern-container, .features {
  flex: 1 0 auto;
}

.cta {
  background: #2563eb;
  color: white;
  text-align: center;
  padding: 40px 20px;
  width: 100%;
  flex-shrink: 0; 
}
.cta h2 {
  font-size: 1.8rem;
  margin-bottom: 10px;
}
.cta p {
  margin-bottom: 20px;
  opacity: 0.9;
}
.cta a {
  color: white;
  text-decoration: underline;
  font-size: 0.9rem;
  display: block;
  margin-top: 15px;
}
</file>

<file path="src/components/Dashboard/HealthRegisterForm.jsx">
import { useState } from "react";
import axios from "axios"; 
import "../../Styles/healthRegister.css";

export default function HealthRegisterForm() {
  const [glucose, setGlucose] = useState("");
  const [systolic, setSystolic] = useState("");
  const [diastolic, setDiastolic] = useState("");

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (glucose <= 0 || systolic <= 0 || diastolic <= 0) {
      alert("Los valores de salud deben ser mayores a 0");
      return;
    }

    try {
      const API_URL = import.meta.env.VITE_API_REGISTRO_URL || "http://localhost:3001";

      const payload = {
        patientId: localStorage.getItem("user_id"),
        glucosa: Number(glucose),
        sistolica: Number(systolic),
        diastolica: Number(diastolic),
      };

      await axios.post(`${API_URL}/api/registros`, payload, {
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${localStorage.getItem('token')}`
        },
      });

      alert("Registro guardado correctamente");

      setGlucose("");
      setSystolic("");
      setDiastolic("");

    } catch (error) {
      console.error("Error al guardar:", error);
      alert("Error al guardar registro");
    }
  };

  return (
    <form className="health-form" onSubmit={handleSubmit}>
      <div className="form-card blue">
        <h2>Glucosa (mg/dL)</h2>
        <input
          type="number"
          min="1"
          placeholder="Ej: 120"
          value={glucose}
          onChange={(e) => setGlucose(e.target.value)}
          required
        />
      </div>

      <div className="form-card red">
        <h2>Presi√≥n Arterial</h2>
        <div className="pressure-inputs">
          <input
            type="number"
            min="1"
            placeholder="Sist√≥lica (Ej: 120)"
            value={systolic}
            onChange={(e) => setSystolic(e.target.value)}
            required
          />
          <span>/</span>
          <input
            type="number"
            min="1"
            placeholder="Diast√≥lica (Ej: 80)"
            value={diastolic}
            onChange={(e) => setDiastolic(e.target.value)}
            required
          />
        </div>
      </div>

      <button className="save-btn">Guardar Registro</button>
    </form>
  );
}
</file>

<file path="src/pages/HistoryPage.jsx">
import { useEffect, useState } from "react";
import axios from 'axios'; 
import "../Styles/HistoryStyles.css";
import { descargarHistorial } from "../services/downloadService";
import { formatDateLong } from "../utils/formatDate";

export default function HistoryPage() {
  const [history, setHistory] = useState([]);
  const userId = localStorage.getItem("user_id");

  const API_URL = import.meta.env.VITE_API_REGISTRO_URL || "http://localhost:3001";

  useEffect(() => {
    if (!userId) return;

    const fetchHistory = async () => {
      try {
        const response = await axios.get(
          `${API_URL}/api/registros/historial/${userId}`,
          { headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` } }
        );
        setHistory(response.data);
      } catch (error) {
        console.error("Error al obtener historial:", error);
      }
    };

    fetchHistory();
  }, [userId]);

  return (
    <main className="history-page">
      <h1>Historial de Mediciones</h1>

      <div className="download-buttons">
        <button
          className="download-btn pdf"
          onClick={() => descargarHistorial(userId, "pdf")}
        >
          Descargar PDF
        </button>

        <button
          className="download-btn csv"
          onClick={() => descargarHistorial(userId, "csv")}
        >
          Descargar CSV
        </button>
      </div>

      {history.length === 0 && <p>No hay registros disponibles</p>}

      {history.map((item, index) => {
        const glucoseAlert = item.glucose > 130;
        const pressureAlert =
          item.systolic > 130 || item.diastolic > 85;

        return (
          <div
            key={index}
            className={`history-item ${
              glucoseAlert || pressureAlert ? "alert" : ""
            }`}
          >
            <div className="history-header">
              <span className="history-date">
                {formatDateLong(item.date)}
              </span>
            </div>

            <div className="history-values">
              <span className={`badge glucose ${glucoseAlert ? "danger" : ""}`}>
                Glucosa: {item.glucose} mg/dL
              </span>

              <span
                className={`badge pressure ${
                  pressureAlert ? "danger" : ""
                }`}
              >
                Presi√≥n: {item.systolic}/{item.diastolic} mmHg
              </span>
            </div>
          </div>
        );
      })}
    </main>
  );
}
</file>

<file path="src/pages/RegisterPage.jsx">
import { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import axios from 'axios'; 
import '../Styles/signUpStyles.css';
import logo from '../assets/logo.png';
import { formatRut, isValidEmail } from "../utils/validations";

const Signup = () => {
  const navigate = useNavigate();
  const [error, setError] = useState(""); 
  const [formData, setFormData] = useState({
    email: '', password: '', rut: '', first_names: '', last_names: ''
  });

  const handleChange = (e) => {
    setFormData({ ...formData, [e.target.name]: e.target.value });
    if(error) setError(""); 
  };

  const handleRutChange = (e) => {
    const inputValue = e.target.value;
    if (inputValue.length > 12) return;
    setFormData({
      ...formData,
      rut: formatRut(inputValue) 
    });
    if(error) setError("");
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError(""); 

    if (!isValidEmail(formData.email)) {
      setError("El correo electr√≥nico no es v√°lido.");
      return;
    }

    if (formData.rut.length < 8) {
      setError("El RUT parece incompleto.");
      return;
    }

    try {
      const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';
      
      const response = await axios.post(`${API_URL}/auth/signup`, formData, {
        headers: { 'Content-Type': 'application/json' }
      });

      const data = response.data;

      if (data.user || data.session) {
        const user = data.user;
        const session = data.session;
        
        if (user && user.id) {
            localStorage.setItem('user_id', user.id);
        }

        if (session && session.access_token) {
            localStorage.setItem('token', session.access_token);
        }

        localStorage.setItem('user_email', formData.email);
        localStorage.setItem('user_name', `${formData.first_names} ${formData.last_names}`);
        localStorage.setItem('user_role', 'patient');
        localStorage.setItem('temp_access', 'true');

        window.dispatchEvent(new Event("auth-change"));

        alert('Cuenta creada con √©xito.'); 
        navigate('/ficha-medica'); 
      }
    } catch (error) {
      setError(error.response?.data?.error || 'Error al crear la cuenta. Intenta nuevamente.');
    }
  };

  return (
    <div className="signup-container">
      <div className="signup-box">
        <div className="signup-header">
          <img src={logo} alt="Salud Al D√≠a" className="signup-logo" />
        </div>

        <form onSubmit={handleSubmit} className="form-grid">
          <div className="form-group">
            <label>RUT</label>
            <input 
              type="text" 
              name="rut" 
              placeholder="12.345.678-9" 
              value={formData.rut}
              onChange={handleRutChange} 
              required 
            />
          </div>

          <div className="form-group">
            <label>Nombres</label>
            <input type="text" name="first_names" placeholder="Juan Ignacio" onChange={handleChange} required />
          </div>
          
          <div className="form-group">
            <label>Apellidos</label>
            <input type="text" name="last_names" placeholder="P√©rez Soto" onChange={handleChange} required />
          </div>
          
          <div className="form-group">
            <label>Email</label>
            <input type="email" name="email" placeholder="correo@ejemplo.com" onChange={handleChange} required />
          </div>
          
          <div className="form-group" style={{ gridColumn: 'span 2' }}>
            <label>Contrase√±a</label>
            <input type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onChange={handleChange} required />
          </div>

          {error && (
            <div style={{ gridColumn: 'span 2', color: 'red', textAlign: 'center', marginBottom: '10px', fontSize: '0.9rem' }}>
              {error}
            </div>
          )}

          <button type="submit" className="btn-signup">Crear Cuenta</button>
        </form>

        <p className="signup-footer">
          ¬øYa tienes cuenta? <Link to="/login">Inicia sesi√≥n</Link>
        </p>
      </div>
    </div>
  );
};

export default Signup;
</file>

<file path="src/pages/HomePage.jsx">
import { useState, useEffect } from "react";
import "../Styles/homeStyles.css";
import { useNavigate } from "react-router-dom";
import carrusel1 from '../assets/carrusel-1.png';
import carrusel2 from '../assets/imagen2.png';
import carrusel3 from '../assets/carrusel-3.png';

// Importamos tus secciones
import DrChapatinSection from "../components/Landing/DrChapatinSection"; 
import HowToUseSection from "../components/Landing/HowToUseSection"; // <--- NUEVO IMPORT

function HomePage() {
  const navigate = useNavigate();
  const [currentIndex, setCurrentIndex] = useState(0);

  // ... (Toda tu l√≥gica del carrusel y slides IGUAL que antes) ...
  const slides = [
    {
      badge: "Salud explicada por IA",
      title: "Monitorea tu Presi√≥n y Glucosa con Inteligencia Artificial",
      text: "Controla tus niveles de presi√≥n arterial y glucosa de forma simple, segura y confiable.",
      image: carrusel1,
    },
    {
      badge: "Tecnolog√≠a de Vanguardia",
      title: "An√°lisis Cl√≠nico en Lenguaje Simple",
      text: "Nuestra plataforma te ayuda a detectar riesgos a tiempo y tomar mejores decisiones para tu salud.",
      image: carrusel2, 
    },
    {
      badge: "Vive tranquilo",
      title: "Tus Datos M√©dicos est√°n Seguros",
      text: "Implementamos altos est√°ndares de seguridad y cifrado para que tu informaci√≥n personal est√© siempre protegida.",
      image: carrusel3,
    }
  ];

  useEffect(() => {
    const interval = setInterval(() => {
      nextSlide();
    }, 5000);
    return () => clearInterval(interval);
  }, [currentIndex]);

  const nextSlide = () => {
    setCurrentIndex((prev) => (prev === slides.length - 1 ? 0 : prev + 1));
  };

  const prevSlide = () => {
    setCurrentIndex((prev) => (prev === 0 ? slides.length - 1 : prev - 1));
  };

  return (
    <>
      {/* 1. HERO SECTION (CARRUSEL) - SIN CAMBIOS */}
      <section className="hero-modern-container">
        <button className="carousel-arrow left" onClick={prevSlide}>&#10094;</button>
        <button className="carousel-arrow right" onClick={nextSlide}>&#10095;</button>

        <div className="hero hero-modern">
          <div className="hero-text">
            <span className="badge">{slides[currentIndex].badge}</span>
            <h1>{slides[currentIndex].title}</h1>
            <p>{slides[currentIndex].text}</p>
            <button className="btn-primary big" onClick={() => navigate("/login")}>
              Comenzar Ahora
            </button>
          </div>

          <div className="hero-image">
            <img 
              src={slides[currentIndex].image} 
              alt="Monitoreo de salud" 
              className="fade-in" 
              key={currentIndex} 
            />
          </div>
        </div>

        <div className="carousel-dots">
          {slides.map((_, index) => (
            <span 
              key={index} 
              className={`dot ${index === currentIndex ? "active" : ""}`}
              onClick={() => setCurrentIndex(index)}
            ></span>
          ))}
        </div>
      </section>

      {/* 2. DR. CHAPAT√çN */}
      <DrChapatinSection />

      {/* 3. NUEVA SECCI√ìN: TUTORIAL DE USO */}
      <HowToUseSection />

      {/* 4. CTA FINAL */}
      <section className="cta">
        <h2>¬øListo para mejorar tu salud?</h2>
        <p>√önete a miles de personas que ya conf√≠an en Salud al D√≠a.</p>
        <button className="btn-white" onClick={() => navigate("/signup")}>Crear Cuenta Ahora</button>
      </section>
      
    </>
  );
}

export default HomePage;
</file>

<file path="src/pages/MedicalRecords.jsx">
import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { createMedicalRecord } from '../services/MedicalService'; 
import '../Styles/medicalRecordsStyles.css'; 
import logo from '../assets/logo.png';

const MedicalRecords = () => {
  const navigate = useNavigate();

  const [medicalData, setMedicalData] = useState({
    blood_type: '', 
    height: '', 
    initial_weight: '', 
    allergies: '', 
    chronic_diseases: '', 
    emergency_contact_name: '',
    data_processing_consent: false 
  });

  const [phoneNumber, setPhoneNumber] = useState("");
  const [phoneError, setPhoneError] = useState("");

  useEffect(() => {
    const userId = localStorage.getItem('user_id');
    const token = localStorage.getItem('token'); 

    if (!userId || !token) {
      alert("Acceso denegado. Por favor, inicia sesi√≥n o reg√≠strate.");
      navigate('/login');
    }
  }, [navigate]);

  const handleChange = (e) => {
    const { name, value, type, checked } = e.target;
    
    if (name === 'height' && value > 300) return;
    if (name === 'initial_weight' && value > 600) return;

    setMedicalData({ 
        ...medicalData, 
        [name]: type === 'checkbox' ? checked : value 
    });
  };

  const handlePhoneChange = (e) => {
    const value = e.target.value;
    const onlyNums = value.replace(/[^0-9]/g, '');
    
    if (onlyNums.length <= 9) {
      setPhoneNumber(onlyNums);
      
      if (onlyNums.length === 9) {
          if (onlyNums.charAt(0) !== '9') {
             setPhoneError("El n√∫mero debe comenzar con 9");
          } else {
             setPhoneError("");
          }
      } else {
          setPhoneError(""); 
      }
    }
  };

  const isFormValid = 
      medicalData.blood_type !== '' &&
      medicalData.height !== '' &&
      medicalData.initial_weight !== '' &&
      medicalData.emergency_contact_name !== '' &&
      phoneNumber.length === 9 &&
      phoneNumber.startsWith('9') &&
      medicalData.data_processing_consent === true;

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!medicalData.data_processing_consent) {
        alert("Debes aceptar los t√©rminos legales para continuar.");
        return;
    }

    if (phoneNumber.length !== 9 || !phoneNumber.startsWith('9')) {
        alert("El tel√©fono debe tener 9 d√≠gitos y comenzar con 9.");
        return;
    }

    const userId = localStorage.getItem('user_id');
    const fullPhone = `+56${phoneNumber}`;

    const { data_processing_consent, ...datosLimpios } = medicalData;

    try {
      await createMedicalRecord({
        ...datosLimpios,
        emergency_contact_phone: fullPhone,
        user_id: userId
      });
      
      alert('¬°Ficha m√©dica creada exitosamente!');
      navigate('/dashboard'); 
    } catch (error) {
      alert('Error: ' + (error.message || 'No autorizado.'));
    }
  };

  return (
    <div className="medical-container">
      <div className="medical-box">
        <div className="medical-header">
          <img src={logo} alt="Salud Al D√≠a" className="medical-logo" />
          <h2>Ficha M√©dica Inicial</h2>
        </div>

        <form onSubmit={handleSubmit} className="form-grid">
          
          <div className="form-group">
            <label>Tipo de Sangre</label>
            <select name="blood_type" value={medicalData.blood_type} onChange={handleChange} required>
              <option value="">Seleccionar...</option>
              <option value="A+">A+</option>
              <option value="O+">O+</option>
              <option value="B+">B+</option>
              <option value="AB+">AB+</option>
              <option value="A-">A-</option>
              <option value="O-">O-</option>
              <option value="B-">B-</option>
              <option value="AB-">AB-</option>
            </select>
          </div>

          <div className="form-group">
             <label>Estatura (cm)</label>
             <input type="number" name="height" value={medicalData.height} placeholder="Ej: 170" onChange={handleChange} min="50" max="300" required />
          </div>

          <div className="form-group">
             <label>Peso Inicial (kg)</label>
             <input type="number" name="initial_weight" value={medicalData.initial_weight} placeholder="Ej: 75" onChange={handleChange} min="20" max="500" required />
          </div>

          <div className="form-group">
            <label>Contacto de Emergencia</label>
            <input type="text" name="emergency_contact_name" value={medicalData.emergency_contact_name} placeholder="Nombre completo" onChange={handleChange} required />
          </div>

          <div className="form-group full-width">
            <label>Tel√©fono de Emergencia</label>
            <div className={`phone-input-group ${phoneError ? 'input-error' : ''}`}>
              <div className="country-prefix">
                 +56
              </div>

              <input 
                type="tel" 
                name="emergency_contact_phone" 
                placeholder="9 1234 5678" 
                value={phoneNumber}
                onChange={handlePhoneChange}
                required 
                className="phone-field"
              />
            </div>
            {phoneError && <small className="error-text">{phoneError}</small>}
            <small className="hint-text">
                * Ingresa los 9 d√≠gitos (ej: 987654321)
            </small>
          </div>

          <div className="form-group full-width">
            <label>Alergias</label>
            <textarea name="allergies" value={medicalData.allergies} placeholder="Medicamentos, alimentos..." onChange={handleChange}></textarea>
          </div>

          <div className="form-group full-width">
            <label>Enfermedades Cr√≥nicas</label>
            <textarea name="chronic_diseases" value={medicalData.chronic_diseases} placeholder="Diabetes, Hipertensi√≥n..." onChange={handleChange}></textarea>
          </div>
          
          <div className="form-group full-width checkbox-container">
            <label className="checkbox-label">
              <input 
                type="checkbox" 
                name="data_processing_consent" 
                checked={medicalData.data_processing_consent} 
                onChange={handleChange}
              />
              <span className="checkbox-text">
                Autorizo el tratamiento de mis datos sensibles de salud para fines de monitoreo y gesti√≥n m√©dica, 
                en conformidad con la Ley 19.628 sobre Protecci√≥n de la Vida Privada.
              </span>
            </label>
          </div>

          <button 
            type="submit" 
            className="btn-medical"
            disabled={!isFormValid}
          >
            Finalizar y Entrar
          </button>
        </form>
      </div>
    </div>
  );
};

export default MedicalRecords;
</file>

<file path="src/services/AuthService.js">
import axios from 'axios';

const API_ADMIN_URL = import.meta.env.VITE_API_ADMIN_URL || "http://localhost:4000/api/admin";
const API_URL = import.meta.env.VITE_API_URL || "http://localhost:3000";

const getAuthConfig = (tokenOverride) => {
  const token = tokenOverride || localStorage.getItem('token');
  return {
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    }
  };
};

export const isAdmin = async () => {
  try {
    const userEmail = localStorage.getItem("user_email");
    const token = localStorage.getItem("token");

    if (!userEmail || !token) return false;

    const response = await axios.post(
      `${API_ADMIN_URL}/verify-admin`, 
      { email: userEmail.toLowerCase() },
      getAuthConfig(token)
    );

    return response.data.isAdmin;
  } catch (error) {
    return false;
  }
};

export const getUserProfile = async (userId, token) => {
  try {
    const response = await axios.get(
      `${API_URL}/users/${userId}`, 
      getAuthConfig(token)
    );
    return response.data;
  } catch (error) {
    console.error(`Error Auth User ${userId}:`, error.message);
    return null;
  }
};

export const requestPublicPasswordReset = async (email) => {
  try {
    await axios.post(
      `${API_ADMIN_URL}/send-reset-email`,
      { email },
      { headers: { 'Content-Type': 'application/json' } }
    );
    return { success: true };
  } catch (error) {
    return { success: false, error: error.response?.data?.error || error.message };
  }
};
</file>

<file path="src/pages/Dashboard.jsx">
import { useNavigate } from "react-router-dom";
import { useState, useEffect } from "react";
import { FaPlusCircle, FaChartBar } from "react-icons/fa";
import GlucoseCard from "../components/Dashboard/GlucoseCard";
import PressureCard from "../components/Dashboard/PressureCard";
import "../Styles/DashboardStyles.css";

export default function Dashboard() {
  const navigate = useNavigate();

  const [reading, setReading] = useState({
    glucose: 0,
    systolic: 0,
    diastolic: 0,
    date: "",
  });

  const userId = localStorage.getItem("user_id");

  useEffect(() => {
    const loadDashboard = async () => {
      const API_URL =
        import.meta.env.VITE_API_REGISTRO_URL || "http://localhost:3001";

      try {
        const res = await fetch(
          `${API_URL}/api/registros/dashboard/${userId}`
        );

        if (!res.ok) throw new Error("Error cargando dashboard");

        const data = await res.json();

        setReading({
          glucose: data.glucose?.value || 0,
          systolic: data.pressure?.systolic || 0,
          diastolic: data.pressure?.diastolic || 0,
          date: data.glucose?.date || "",
        });
      } catch (error) {
        console.error("Error cargando datos del dashboard:", error);
      }
    };

    if (userId) loadDashboard();
  }, [userId]);

  return (
    <main className="dashboard-bg">
      <div className="dashboard-container">
        <header className="dashboard-header">
          <h1>Panel de Control</h1>
          <p>Revisa y gestiona tu informaci√≥n de salud</p>
        </header>

        <section className="cards-container">
          <GlucoseCard glucose={reading.glucose} date={reading.date} />

          <PressureCard
            systolic={reading.systolic}
            diastolic={reading.diastolic}
            date={reading.date}
          />

          <div
            className="action-card register-card"
            onClick={() => navigate("/registro-salud")}
          >
            <h2>
              <FaPlusCircle className="card-icon" />
              Registrar Informaci√≥n
            </h2>
            <p>Ingresa nuevos datos de salud</p>
          </div>

          <div
            className="action-card history-card"
            onClick={() => navigate("/historial")}
          >
            <h2>
              <FaChartBar className="card-icon" />
              Ver Historial
            </h2>
            <p>Consulta registros anteriores</p>
          </div>
        </section>
      </div>
    </main>
  );
}
</file>

<file path="src/pages/LoginPage.jsx">
import { useState, useEffect } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import axios from 'axios'; 
import { requestPublicPasswordReset, getUserProfile } from '../services/AuthService';
import '../Styles/loginStyles.css';
import logo from '../assets/logo.png'; 

const Login = () => {
  const [credentials, setCredentials] = useState({ email: '', password: '' });
  const [showResetModal, setShowResetModal] = useState(false);
  const [resetEmail, setResetEmail] = useState('');
  const [resetStatus, setResetStatus] = useState({ loading: false, msg: '', type: '' });
  const [cooldownTime, setCooldownTime] = useState(0); 
  
  const navigate = useNavigate();

  useEffect(() => {
    const lockUntil = localStorage.getItem('reset_lock_until');
    if (lockUntil) {
      const now = Date.now();
      const timeLeft = Math.ceil((parseInt(lockUntil) - now) / 1000);
      if (timeLeft > 0) {
        setCooldownTime(timeLeft);
      } else {
        localStorage.removeItem('reset_lock_until');
      }
    }
  }, []);

  useEffect(() => {
    if (cooldownTime <= 0) return;
    const timer = setInterval(() => {
      setCooldownTime((prev) => {
        if (prev <= 1) {
          localStorage.removeItem('reset_lock_until');
          return 0;
        }
        return prev - 1;
      });
    }, 1000);
    return () => clearInterval(timer);
  }, [cooldownTime]);

  const handleChange = (e) => {
    setCredentials({ ...credentials, [e.target.name]: e.target.value });
  };

  const handleLogin = async (e) => {
    e.preventDefault();
    try {
      const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';
      
      const response = await axios.post(`${API_URL}/auth/login`, credentials, {
        headers: {
          'Content-Type': 'application/json'
        }
      });

      const data = response.data;
      const token = data.session?.access_token || data.token;
      
      if (!token) throw new Error("No se recibi√≥ token");

      localStorage.setItem('token', token);
      localStorage.setItem('user_email', credentials.email); 

      let userId = null;
      let userData = null;

      if (data.user && data.user.id) {
          userId = data.user.id;
          userData = data.user;
      } else if (data.session && data.session.user && data.session.user.id) {
          userId = data.session.user.id;
          userData = data.session.user;
      }

      if (userId) {
          localStorage.setItem('user_id', userId);
          
          if (userData) {
             const meta = userData.user_metadata || {};
             const firstName = meta.first_names || "Usuario";
             const lastName = meta.last_names || "";
             localStorage.setItem('user_name', `${firstName} ${lastName}`.trim());
          }

          let finalRole = 'patient';
          const profile = await getUserProfile(userId, token);
          
          if (profile && profile.role) {
              finalRole = profile.role;
          } else {
              const meta = userData?.user_metadata || {};
              finalRole = userData?.role || meta.role || 'patient';
          }

          if (finalRole === 'authenticated') finalRole = 'patient';

          localStorage.setItem('user_role', finalRole);
          
          window.dispatchEvent(new Event("auth-change"));
          window.dispatchEvent(new Event("storage"));
      
          if (finalRole === 'specialist') {
              navigate('/panel-medico');
          } else if (finalRole === 'admin') {
              navigate('/admin');
          } else {
              navigate('/dashboard');
          }
      }

    } catch (error) {
      console.error("Login Error:", error);
      alert(`Error: ${error.response?.data?.error || error.message}`);
    }
  };

  const handleResetSubmit = async (e) => {
    e.preventDefault();
    if (cooldownTime > 0) return;

    setResetStatus({ loading: true, msg: '', type: '' });
    const result = await requestPublicPasswordReset(resetEmail);
    setResetStatus({ loading: false });

    if (result.success) {
      setResetStatus({ msg: '¬°Enlace enviado! Revisa tu correo.', type: 'success' });
      const secondsToWait = 300; 
      setCooldownTime(secondsToWait);
      const unlockTime = Date.now() + (secondsToWait * 1000);
      localStorage.setItem('reset_lock_until', unlockTime.toString());
    } else {
      setResetStatus({ msg: result.error || 'Error al enviar.', type: 'error' });
    }
  };

  const formatTime = (seconds) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
  };

  return (
    <div className="login-container">
      <div className="login-box">
        <div className="login-header">
          <img src={logo} alt="Salud Al D√≠a" className="login-logo"/>
        </div>
        
        <form onSubmit={handleLogin}>
           <div className="input-group-login">
            <label>Correo Electr√≥nico</label>
            <input type="email" name="email" placeholder="ejemplo@correo.com" onChange={handleChange} required />
          </div>
          <div className="input-group-login">
            <label>Contrase√±a</label>
            <input type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onChange={handleChange} required />
          </div>

          <div className="forgot-password-link">
             <button type="button" onClick={() => setShowResetModal(true)} className="btn-link">
               ¬øOlvidaste tu contrase√±a?
             </button>
          </div>

          <button type="submit" className="btn-login">Entrar al Panel</button>
        </form>

        <p className="auth-footer">
          ¬øNo tiene una cuenta? <Link to="/signup">Reg√≠strese aqu√≠</Link>
        </p>
      </div>

      {showResetModal && (
        <div className="modal-overlay">
          <div className="modal-content">
            <h3>Recuperar Contrase√±a</h3>
            <p>Ingresa tu correo y te enviaremos un enlace.</p>
            
            <form onSubmit={handleResetSubmit}>
              <input 
                type="email" 
                value={resetEmail}
                onChange={(e) => setResetEmail(e.target.value)}
                placeholder="tu@correo.com"
                required
                className="input-reset"
                disabled={cooldownTime > 0}
              />
              
              {resetStatus.msg && (
                <p className={`status-msg ${resetStatus.type}`}>{resetStatus.msg}</p>
              )}

              {cooldownTime > 0 && (
                <p className="cooldown-text">
                  Espera {formatTime(cooldownTime)} para intentar de nuevo.
                </p>
              )}

              <div className="modal-actions">
                <button type="button" onClick={() => setShowResetModal(false)} className="btn-cancel">
                  {cooldownTime > 0 ? 'Cerrar' : 'Cancelar'}
                </button>
                
                <button 
                  type="submit" 
                  className={`btn-confirm ${cooldownTime > 0 ? 'disabled' : ''}`}
                  disabled={resetStatus.loading || cooldownTime > 0}
                >
                  {resetStatus.loading ? 'Enviando...' : cooldownTime > 0 ? 'Espera...' : 'Enviar'}
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default Login;
</file>

<file path="src/App.jsx">
import { useState, useEffect } from "react";
import { BrowserRouter as Router, Routes, Route, Navigate } from "react-router-dom";

import ContactPage from "./pages/ContactPage";
import HomePage from "./pages/HomePage";
import LoginPage from "./pages/LoginPage";
import RegisterPage from "./pages/RegisterPage";
import AboutPage from "./pages/AboutPage";
import Dashboard from "./pages/Dashboard";
import HistoryPage from "./pages/HistoryPage";
import HealthRegisterPage from "./pages/HealthRegisterPage";
import MedicalRecords from "./pages/MedicalRecords";
import AdminPage from "./pages/AdminPage";
import ProfilePage from "./pages/ProfilePage";
import ResetPassword from "./pages/ResetPassword";
import SpecialistDashboard from "./pages/SpecialistDashboard";
import PatientFile from "./pages/PatientFile";

import Navbar from "./components/Navbar";
import ChatWidget from "./components/Chat/ChatWidget";
import { isAdmin } from "./services/AuthService";

import PatientGuard from "./components/Guards/PatientGuard";
import SpecialistGuard from "./components/Guards/SpecialistGuard";
import AdminGuard from "./components/Guards/AdminGuard";

function App() {
  const [currentUserId, setCurrentUserId] = useState(localStorage.getItem('user_id'));
  const [isUserAdmin, setIsUserAdmin] = useState(false);
  const [userRole, setUserRole] = useState(localStorage.getItem('user_role'));

  const refreshAppState = async () => {
      const token = localStorage.getItem('token');
      const userId = localStorage.getItem('user_id');
      const role = localStorage.getItem('user_role');

      setCurrentUserId(userId);
      setUserRole(role);

      if (token && userId) {
        try {
            const adminStatus = await isAdmin();
            setIsUserAdmin(adminStatus);
        } catch {
            setIsUserAdmin(false);
        }
      } else {
        setIsUserAdmin(false);
      }
  };

  useEffect(() => {
    refreshAppState();
    window.addEventListener('auth-change', refreshAppState);
    window.addEventListener('storage', refreshAppState);

    return () => {
        window.removeEventListener('auth-change', refreshAppState);
        window.removeEventListener('storage', refreshAppState);
    };
  }, []);

  return (
    <Router>
      <Navbar />
      
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/home" element={<HomePage />} />
        <Route path="/login" element={<LoginPage />} />
        <Route path="/signup" element={<RegisterPage />} />
        <Route path="/about" element={<AboutPage />} />
        <Route path="/contact" element={<ContactPage />} />
        <Route path="/reset-password" element={<ResetPassword />} />

        <Route 
          path="/dashboard" 
          element={
            <PatientGuard>
              <Dashboard />
            </PatientGuard>
          } 
        />
        <Route 
          path="/historial" 
          element={
            <PatientGuard>
              <HistoryPage />
            </PatientGuard>
          } 
        />
        <Route 
          path="/perfil" 
          element={
            <PatientGuard>
              <ProfilePage />
            </PatientGuard>
          } 
        />
        <Route 
          path="/registro-salud" 
          element={
            <PatientGuard>
              <HealthRegisterPage />
            </PatientGuard>
          } 
        />
        <Route 
          path="/ficha-medica" 
          element={
            <PatientGuard>
              <MedicalRecords />
            </PatientGuard>
          } 
        />

        <Route 
            path="/panel-medico" 
            element={
                <SpecialistGuard>
                    <SpecialistDashboard />
                </SpecialistGuard>
            } 
        />
        <Route 
            path="/paciente/:id" 
            element={
                <SpecialistGuard>
                    <PatientFile />
                </SpecialistGuard>
            } 
        />

        <Route
          path="/admin"
          element={
            <AdminGuard>
              <AdminPage />
            </AdminGuard>
          }
        />
      </Routes>

      {currentUserId && !isUserAdmin && userRole !== 'specialist' && (
        <ChatWidget userId={currentUserId} />
      )}
      
    </Router>
  );
}

export default App;
</file>

<file path="src/components/Navbar.jsx">
import { useState, useEffect } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import SosButton from './SosButton'; 
import { isAdmin } from '../services/AuthService'; 
import '../Styles/NavbarStyles.css';
import logo1 from '../assets/logo1.png';
import { Stethoscope, LogOut } from 'lucide-react';

const Navbar = () => {
    const navigate = useNavigate();
    const [isOpen, setIsOpen] = useState(false);
    const [isUserAdmin, setIsUserAdmin] = useState(false);
    const [userRole, setUserRole] = useState(localStorage.getItem('user_role') || 'patient');
    const [docName, setDocName] = useState(localStorage.getItem('user_name') || '');
    const [token, setToken] = useState(localStorage.getItem('token'));

    const refreshAuthState = async () => {
        const currentToken = localStorage.getItem('token');
        const currentRole = localStorage.getItem('user_role');
        const currentName = localStorage.getItem('user_name');

        setToken(currentToken);
        if (currentRole) setUserRole(currentRole);
        setDocName(currentName || '');

        if (currentToken) {
            try {
                const adminStatus = await isAdmin();
                setIsUserAdmin(adminStatus);
                if (adminStatus) setUserRole('admin');
            } catch (error) {
                setIsUserAdmin(false);
            }
        } else {
            setIsUserAdmin(false);
            setUserRole('patient');
        }
    };

    useEffect(() => {
        refreshAuthState();
        window.addEventListener('auth-change', refreshAuthState);
        window.addEventListener('storage', refreshAuthState);
        return () => {
            window.removeEventListener('auth-change', refreshAuthState);
            window.removeEventListener('storage', refreshAuthState);
        };
    }, []);

    const handleLogout = () => {
        localStorage.clear();
        window.dispatchEvent(new Event("auth-change"));
        navigate('/login');
        setIsOpen(false);
    };

    if (userRole === 'specialist') {
        return (
            <nav className="navbar">
                <div className="navbar-container">
                    <div className="nav-logo">
                        <img src={logo1} alt="Salud al D√≠a" className="logo-img" />
                    </div>
                    <div style={{ display: 'flex', alignItems: 'center', gap: '20px', marginLeft: 'auto' }}>
                        <div style={{ textAlign: 'right', lineHeight: '1.2' }}>
                            <span style={{ display: 'block', fontWeight: 'bold', color: '#1e3a8a', fontSize: '0.95rem' }}>
                                {docName || 'Especialista'}
                            </span>
                            <span style={{ fontSize: '0.8rem', color: '#64748b', display: 'block' }}>Profesional de Salud</span>
                        </div>
                        <div style={{ background: '#eff6ff', padding: '10px', borderRadius: '50%', color: '#2563eb', border: '1px solid #bfdbfe' }}>
                            <Stethoscope size={20} />
                        </div>
                        <button 
                            onClick={handleLogout} 
                            className="btn-logout-specialist"
                            style={{ 
                                display: 'flex', alignItems: 'center', gap: '8px', 
                                padding: '8px 16px', border: '1px solid #e2e8f0', 
                                color: '#64748b', background: 'white', borderRadius: '8px',
                                cursor: 'pointer', fontWeight: '600', transition: 'all 0.2s'
                            }}
                        >
                            <LogOut size={16} /> Salir
                        </button>
                    </div>
                </div>
            </nav>
        );
    }

    const showSos = token && !isUserAdmin;

    return (
        <nav className="navbar">
            <div className="navbar-container">
                <Link to="/" className="nav-logo" onClick={() => setIsOpen(false)}>
                    <img src={logo1} alt="Salud al D√≠a" className="logo-img" />
                </Link>

                <div className={`nav-collapse ${isOpen ? 'active' : ''}`}>
                    <div className="nav-menu">
                        <Link to="/about" className="nav-item" onClick={() => setIsOpen(false)}>Sobre Nosotros</Link>
                        <Link to="/contact" className="nav-item" onClick={() => setIsOpen(false)}>Cont√°ctanos</Link>
                        {token && (
                            <>
                                {!isUserAdmin ? (
                                    <>
                                        <Link to="/dashboard" className="nav-item" onClick={() => setIsOpen(false)}>Mi Panel</Link>
                                        <Link to="/historial" className="nav-item" onClick={() => setIsOpen(false)}>Historial</Link>
                                        <Link to="/perfil" className="nav-item" onClick={() => setIsOpen(false)}>Mi Perfil</Link>
                                    </>
                                ) : (
                                    <Link to="/admin" className="nav-item" onClick={() => setIsOpen(false)}>Panel Admin</Link>
                                )}
                            </>
                        )}
                    </div>

                    <div className="nav-auth">
                        {token ? (
                            <>
                                {showSos && <div className="sos-desktop-wrapper"><SosButton /></div>}
                                <button onClick={handleLogout} className="btn-login">Cerrar Sesi√≥n</button>
                            </>
                        ) : (
                            <>
                                <Link to="/login" className="btn-login" onClick={() => setIsOpen(false)}>Iniciar Sesi√≥n</Link>
                                <Link to="/signup" className="btn-register" onClick={() => setIsOpen(false)}>Registrarse</Link>
                            </>
                        )}
                    </div>
                </div>

                <div className="nav-mobile-actions">
                    {showSos && <div className="sos-mobile-wrapper"><SosButton /></div>}
                    <div className={`hamburger ${isOpen ? 'active' : ''}`} onClick={() => setIsOpen(!isOpen)}>
                        <span className="bar"></span>
                        <span className="bar"></span>
                        <span className="bar"></span>
                    </div>
                </div>
            </div>
        </nav>
    );
};

export default Navbar;
</file>

</files>
